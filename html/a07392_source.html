<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title> OpenFOAM&reg; Programmer's C++ documentation </title>
<!-- links -->
<link href="../OpenFOAMdocIcon.png" rel="icon" type="image/png" />
<link href="search/search.css" rel="stylesheet" type="text/css" />
<link href="../css/openfoam.css" rel="stylesheet" type="text/css" />
<script type="text/javaScript" src="search/searchdata.js"></script>
<script type="text/javaScript" src="search/search.js"></script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript">
    $(document).ready(function() { init_search(); });
</script>
<!-- meta info -->
<meta
    name="keywords"
    content="computational fluid dynamics, CFD, OpenFOAM, open source CFD, open source"
    />
</head>
<body>
<div class="page-container">
  <div class="header">
    <div class="header-top">
      <a class="sitelogo" href="http://www.openfoam.org" title="Home">
        <img class=left src="../css/img/OpenFOAMlogo.png">
      </a>
      <div class="sitename">
        <h1>
          <a href="http://foam.sourceforge.net/doc/Doxygen/html/"
             title="Source Guide">OpenFOAM C++ Documentation
          </a>
        </h1>
      </div>
    </div>  <!-- header-top -->
  </div>  <!-- header -->
  <div class="main">
    <div>
    <!-- begin of doxygen-generated content -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ae30ad0bef50cf391b24c614251bb9fd.html">meshTools</a></li><li class="navelem"><a class="el" href="dir_c77b33f4fcb6ece30dd2aa16d1bc605e.html">mappedPatches</a></li><li class="navelem"><a class="el" href="dir_392e5ce425028dd37e9ead0107e4f468.html">mappedPolyPatch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mappedPatchBase.C</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a07392.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*---------------------------------------------------------------------------*\</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">  =========                 |</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">  \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">   \\    /   O peration     |</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    \\  /    A nd           | Copyright (C) 2011-2016 OpenFOAM Foundation</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">     \\/     M anipulation  |</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">-------------------------------------------------------------------------------</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">License</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">    This file is part of OpenFOAM.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    OpenFOAM is free software: you can redistribute it and/or modify it</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">    (at your option) any later version.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">    OpenFOAM is distributed in the hope that it will be useful, but WITHOUT</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">    ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">    FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">    for more details.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">    You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">    along with OpenFOAM.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">\*---------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07393.html">mappedPatchBase.H</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07953.html">addToRunTimeSelectionTable.H</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07758.html">ListListOps.H</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07407.html">meshSearchMeshObject.H</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07418.html">meshTools.H</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07885.html">OFstream.H</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a09036.html">Random.H</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07380.html">treeDataFace.H</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07382.html">treeDataPoint.H</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07658.html">indexedOctree.H</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a08751.html">polyMesh.H</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a08792.html">polyPatch.H</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07965.html">Time.H</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a08733.html">mapDistribute.H</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a08060.html">SubField.H</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a08911.html">triPointRef.H</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a08797.html">syncTools.H</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a07662.html">treeDataCell.H</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a08048.html">DynamicField.H</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">namespace </span><a class="code" href="a10958.html">Foam</a></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="a10958.html#a9907f9d4272b10c75ac87c1679b77c24">defineTypeNameAndDebug</a>(mappedPatchBase, 0);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">template</span>&lt;&gt;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a01597.html">Foam::NamedEnum</a></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    &lt;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="a01445.html#a4a5f338705df00dc4b801f6f25112ccf">Foam::mappedPatchBase::sampleMode</a>,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        6</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="a01597.html#a7350da3a0edd92cd11e6c479c9967dc8">   57</a></span>&#160;    &gt;::names[] =</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="stringliteral">&quot;nearestCell&quot;</span>,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="stringliteral">&quot;nearestPatchFace&quot;</span>,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="stringliteral">&quot;nearestPatchFaceAMI&quot;</span>,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="stringliteral">&quot;nearestPatchPoint&quot;</span>,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="stringliteral">&quot;nearestFace&quot;</span>,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="stringliteral">&quot;nearestOnlyCell&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    };</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">template</span>&lt;&gt;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a01597.html">Foam::NamedEnum</a></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    &lt;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="a01445.html#ab3d659d134be87423ac27ecf9e011103">Foam::mappedPatchBase::offsetMode</a>,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        3</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="a01597.html#a7350da3a0edd92cd11e6c479c9967dc8">   72</a></span>&#160;    &gt;::names[] =</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="stringliteral">&quot;uniform&quot;</span>,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="stringliteral">&quot;nonuniform&quot;</span>,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="stringliteral">&quot;normal&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    };</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">const</span> <a class="code" href="a01597.html">Foam::NamedEnum&lt;Foam::mappedPatchBase::sampleMode, 6&gt;</a></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="a01445.html#a044747e20568dea33e8e8961aaa3670b">Foam::mappedPatchBase::sampleModeNames_</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">const</span> <a class="code" href="a01597.html">Foam::NamedEnum&lt;Foam::mappedPatchBase::offsetMode, 3&gt;</a></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="a01445.html#ab7b4650b8711fa137bf68098045938d6">Foam::mappedPatchBase::offsetModeNames_</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">// * * * * * * * * * * * * * Private Member Functions  * * * * * * * * * * * //</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<a class="code" href="a02691.html">Foam::tmp&lt;Foam::pointField&gt;</a> <a class="code" href="a01445.html#a0fb543c54481dfa3023f24285cd25e87">Foam::mappedPatchBase::facePoints</a></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="a01445.html#a0fb543c54481dfa3023f24285cd25e87">   91</a></span>&#160;(</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;) <span class="keyword">const</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01949.html">polyMesh</a>&amp; mesh = pp.<a class="code" href="a01967.html#a967e2a9a4a6da59154f932595447adc9">boundaryMesh</a>().<a class="code" href="a01943.html#aa51573bc757d5d5bb058db0464886447">mesh</a>();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">// Force construction of min-tet decomp</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    (void)mesh.<a class="code" href="a01949.html#af5d47c5deccb842cb4b331facc1aa22a">tetBasePtIs</a>();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// Initialise to face-centre</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="a02691.html">tmp&lt;pointField&gt;</a> tfacePoints(<span class="keyword">new</span> <a class="code" href="a10958.html#a5997a67f2e85a15c0e13a1724273aa5f">pointField</a>(patch_.size()));</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="a00766.html">pointField</a>&amp; facePoints = tfacePoints.<a class="code" href="a02691.html#a355da090b61b5b48e7435dec5942b7e9">ref</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(pp, faceI)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        facePoints[faceI] = <a class="code" href="a10958.html#a6e9405517b1f65f062d56214e0d4ee33">facePoint</a></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        (</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            mesh,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            pp.<a class="code" href="a01967.html#a861f370e41af7d54d7ff91da65de6e6a">start</a>()+faceI,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <a class="code" href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879a55620a37f0e2a85f2df16de195560daa">polyMesh::FACE_DIAG_TRIS</a></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        ).rawPoint();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> tfacePoints;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keywordtype">void</span> <a class="code" href="a01445.html#a991cd11b9388dc3e39fadfea6936d27b">Foam::mappedPatchBase::collectSamples</a></div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="a01445.html#a991cd11b9388dc3e39fadfea6936d27b">  119</a></span>&#160;(</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00766.html">pointField</a>&amp; facePoints,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="a00766.html">pointField</a>&amp; samples,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="a01387.html">labelList</a>&amp; patchFaceProcs,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="a01387.html">labelList</a>&amp; patchFaces,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="a00766.html">pointField</a>&amp; patchFc</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;) <span class="keyword">const</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// Collect all sample points and the faces they come from.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="a01387.html">List&lt;pointField&gt;</a> globalFc(<a class="code" href="a02859.html#aada0e04d8127eda8ee95be0772754a4f">Pstream::nProcs</a>());</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        globalFc[<a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>()] = facePoints;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="a02049.html#afbdf64fb42cd760690d51a9a321792d9">Pstream::gatherList</a>(globalFc);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="a02049.html#a23c38ee54f04c9d53a327db9edbdb7f0">Pstream::scatterList</a>(globalFc);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="comment">// Rework into straight list</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        patchFc = ListListOps::combine&lt;pointField&gt;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        (</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            globalFc,</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <a class="code" href="a00016.html">accessOp&lt;pointField&gt;</a>()</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        );</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="a01387.html">List&lt;pointField&gt;</a> globalSamples(<a class="code" href="a02859.html#aada0e04d8127eda8ee95be0772754a4f">Pstream::nProcs</a>());</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        globalSamples[<a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>()] = samplePoints(facePoints);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="a02049.html#afbdf64fb42cd760690d51a9a321792d9">Pstream::gatherList</a>(globalSamples);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="a02049.html#a23c38ee54f04c9d53a327db9edbdb7f0">Pstream::scatterList</a>(globalSamples);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="comment">// Rework into straight list</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        samples = ListListOps::combine&lt;pointField&gt;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        (</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            globalSamples,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="a00016.html">accessOp&lt;pointField&gt;</a>()</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        );</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="a01387.html">labelListList</a> globalFaces(<a class="code" href="a02859.html#aada0e04d8127eda8ee95be0772754a4f">Pstream::nProcs</a>());</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        globalFaces[<a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>()] = <a class="code" href="a10958.html#a36af96cb841435845fffb4fe69208490">identity</a>(patch_.size());</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="comment">// Distribute to all processors</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="a02049.html#afbdf64fb42cd760690d51a9a321792d9">Pstream::gatherList</a>(globalFaces);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <a class="code" href="a02049.html#a23c38ee54f04c9d53a327db9edbdb7f0">Pstream::scatterList</a>(globalFaces);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        patchFaces = ListListOps::combine&lt;labelList&gt;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        (</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            globalFaces,</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <a class="code" href="a00016.html">accessOp&lt;labelList&gt;</a>()</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        );</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="a01387.html">labelList</a> nPerProc(<a class="code" href="a02859.html#aada0e04d8127eda8ee95be0772754a4f">Pstream::nProcs</a>());</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        nPerProc[<a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>()] = patch_.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="a02049.html#afbdf64fb42cd760690d51a9a321792d9">Pstream::gatherList</a>(nPerProc);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="a02049.html#a23c38ee54f04c9d53a327db9edbdb7f0">Pstream::scatterList</a>(nPerProc);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        patchFaceProcs.<a class="code" href="a01387.html#aedb985ffeaf1bdbfeccc2a8730405703">setSize</a>(patchFaces.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>());</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> sampleI = 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(nPerProc, procI)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> i = 0; i &lt; nPerProc[procI]; i++)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                patchFaceProcs[sampleI++] = procI;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">// Find the processor/cell containing the samples. Does not account</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">// for samples being found in two processors.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keywordtype">void</span> <a class="code" href="a01445.html#af1dadf58aa8d06f7448d1859188f909d">Foam::mappedPatchBase::findSamples</a></div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="a01445.html#af1dadf58aa8d06f7448d1859188f909d">  191</a></span>&#160;(</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01445.html#a4a5f338705df00dc4b801f6f25112ccf">sampleMode</a> mode,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00766.html">pointField</a>&amp; samples,</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="a01387.html">labelList</a>&amp; sampleProcs,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="a01387.html">labelList</a>&amp; sampleIndices,</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="a00766.html">pointField</a>&amp; sampleLocations</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;) <span class="keyword">const</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// Lookup the correct region</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01949.html">polyMesh</a>&amp; mesh = sampleMesh();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// All the info for nearest. Construct to miss</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="a01387.html">List&lt;nearInfo&gt;</a> nearest(samples.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>());</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">switch</span> (mode)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">case</span> NEARESTCELL:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">if</span> (samplePatch_.size() &amp;&amp; samplePatch_ != <span class="stringliteral">&quot;none&quot;</span>)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;No need to supply a patch name when in &quot;</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    &lt;&lt; sampleModeNames_[<a class="code" href="a10958.html#a7c482c9f0ea60317169ee39f62f670d4">mode</a>] &lt;&lt; <span class="stringliteral">&quot; mode.&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="comment">//- Note: face-diagonal decomposition</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keyword">const</span> <a class="code" href="a01068.html">indexedOctree&lt;Foam::treeDataCell&gt;</a>&amp; tree = mesh.<a class="code" href="a01949.html#a7ec8de2b3ebafbb5aecf9316146722bf">cellTree</a>();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(samples, sampleI)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; sample = samples[sampleI];</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> cellI = tree.<a class="code" href="a01068.html#aba41bfdff77d084cf0e79257dbea2d2b">findInside</a>(sample);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">if</span> (cellI == -1)</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    nearest[sampleI].second().first() = <a class="code" href="a10958.html#a277dc11c581d53826ab5090b08f3b17b">Foam::sqr</a>(GREAT);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    nearest[sampleI].second().second() = <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; cc = mesh.<a class="code" href="a02001.html#a18743c2f09a076c507cadbb35a86fb24">cellCentres</a>()[cellI];</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    nearest[sampleI].<a class="code" href="a02828.html#a1c9828bc3de9502754d944c95a2ce0d9">first</a>() = <a class="code" href="a10958.html#a29558ed008131ebedb6c3b965e9f4175">pointIndexHit</a></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    (</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        <span class="keyword">true</span>,</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        cc,</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        cellI</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    );</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    nearest[sampleI].second().first() = <a class="code" href="a10958.html#ae6fff2c6981e6d9618aa5038e69def6e">magSqr</a>(cc-sample);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    nearest[sampleI].second().second() = <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">case</span> NEARESTONLYCELL:</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">if</span> (samplePatch_.size() &amp;&amp; samplePatch_ != <span class="stringliteral">&quot;none&quot;</span>)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;No need to supply a patch name when in &quot;</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    &lt;&lt; sampleModeNames_[<a class="code" href="a10958.html#a7c482c9f0ea60317169ee39f62f670d4">mode</a>] &lt;&lt; <span class="stringliteral">&quot; mode.&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="comment">//- Note: face-diagonal decomposition</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keyword">const</span> <a class="code" href="a01068.html">indexedOctree&lt;Foam::treeDataCell&gt;</a>&amp; tree = mesh.<a class="code" href="a01949.html#a7ec8de2b3ebafbb5aecf9316146722bf">cellTree</a>();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(samples, sampleI)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; sample = samples[sampleI];</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                nearest[sampleI].<a class="code" href="a02828.html#a1c9828bc3de9502754d944c95a2ce0d9">first</a>() = tree.findNearest(sample, <a class="code" href="a10958.html#a277dc11c581d53826ab5090b08f3b17b">sqr</a>(GREAT));</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                nearest[sampleI].second().first() = <a class="code" href="a10958.html#ae6fff2c6981e6d9618aa5038e69def6e">magSqr</a></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                (</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    nearest[sampleI].first().hitPoint()</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                   -sample</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                );</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                nearest[sampleI].second().second() = <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">case</span> NEARESTPATCHFACE:</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <a class="code" href="a02102.html">Random</a> <a class="code" href="a04522.html#a5131998e20f3c5a8bd03cf9b48cc76c7">rndGen</a>(123456);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp = samplePolyPatch();</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">if</span> (pp.empty())</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(samples, sampleI)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    nearest[sampleI].second().first() = <a class="code" href="a10958.html#a277dc11c581d53826ab5090b08f3b17b">Foam::sqr</a>(GREAT);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    nearest[sampleI].second().second() = <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="comment">// patch faces</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <span class="keyword">const</span> <a class="code" href="a01387.html">labelList</a> patchFaces(<a class="code" href="a10958.html#a36af96cb841435845fffb4fe69208490">identity</a>(pp.size()) + pp.<a class="code" href="a01967.html#a861f370e41af7d54d7ff91da65de6e6a">start</a>());</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <a class="code" href="a02742.html">treeBoundBox</a> patchBb</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                (</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <a class="code" href="a02742.html">treeBoundBox</a>(pp.<a class="code" href="a02004.html#a1f42f31bcf706357682dcf097255b544">points</a>(), pp.<a class="code" href="a02004.html#ae4935f85c38392518565dd7c666e3caf">meshPoints</a>()).extend</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    (</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        rndGen,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        1<a class="code" href="a10958.html#a4225a7492f7d468ad5b985282c8ee7b1">e</a>-4</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    )</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                );</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                patchBb.<a class="code" href="a00154.html#a1dd50affef9a273ab682ccbf33df7b32">min</a>() -= <a class="code" href="a10958.html#a643590f4015338d12714af03d61a0ac9">point</a>(ROOTVSMALL, ROOTVSMALL, ROOTVSMALL);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                patchBb.max() += <a class="code" href="a10958.html#a643590f4015338d12714af03d61a0ac9">point</a>(ROOTVSMALL, ROOTVSMALL, ROOTVSMALL);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <a class="code" href="a01068.html">indexedOctree&lt;treeDataFace&gt;</a> boundaryTree</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                (</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                    <a class="code" href="a02745.html">treeDataFace</a>    <span class="comment">// all information needed to search faces</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    (</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        <span class="keyword">false</span>,      <span class="comment">// do not cache bb</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        mesh,</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                        patchFaces  <span class="comment">// boundary faces only</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    ),</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    patchBb,        <span class="comment">// overall search domain</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    8,              <span class="comment">// maxLevel</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    10,             <span class="comment">// leafsize</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    3.0             <span class="comment">// duplicity</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                );</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(samples, sampleI)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; sample = samples[sampleI];</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    <a class="code" href="a01917.html">pointIndexHit</a>&amp; <a class="code" href="a02766.html">nearInfo</a> = nearest[sampleI].<a class="code" href="a02766.html#a6bc9dc0330d36f5f75e816ddc4ec213e">first</a>();</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    nearInfo = boundaryTree.findNearest</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    (</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                        sample,</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        <a class="code" href="a10958.html#ae6fff2c6981e6d9618aa5038e69def6e">magSqr</a>(patchBb.span())</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    );</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <span class="keywordflow">if</span> (!nearInfo.<a class="code" href="a01917.html#ad963d38a624b8bf8b37c210109dba03c">hit</a>())</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                        nearest[sampleI].second().first() = <a class="code" href="a10958.html#a277dc11c581d53826ab5090b08f3b17b">Foam::sqr</a>(GREAT);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                        nearest[sampleI].second().second() =</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                            <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        <a class="code" href="a02884.html">point</a> fc(pp[nearInfo.<a class="code" href="a01917.html#a7d1e8acadb27bd2b4e61457d47b71b6f">index</a>()].centre(pp.<a class="code" href="a02004.html#a1f42f31bcf706357682dcf097255b544">points</a>()));</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        nearInfo.<a class="code" href="a01917.html#a06197856d3e9d1625db3f88c38dc522a">setPoint</a>(fc);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        nearest[sampleI].second().first() = <a class="code" href="a10958.html#ae6fff2c6981e6d9618aa5038e69def6e">magSqr</a>(fc-sample);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                        nearest[sampleI].second().second() =</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                            <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">case</span> NEARESTPATCHPOINT:</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <a class="code" href="a02102.html">Random</a> <a class="code" href="a04522.html#a5131998e20f3c5a8bd03cf9b48cc76c7">rndGen</a>(123456);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp = samplePolyPatch();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordflow">if</span> (pp.empty())</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(samples, sampleI)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    nearest[sampleI].second().first() = <a class="code" href="a10958.html#a277dc11c581d53826ab5090b08f3b17b">Foam::sqr</a>(GREAT);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                    nearest[sampleI].second().second() = <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="comment">// patch (local) points</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <a class="code" href="a02742.html">treeBoundBox</a> patchBb</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                (</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    <a class="code" href="a02742.html">treeBoundBox</a>(pp.<a class="code" href="a02004.html#a1f42f31bcf706357682dcf097255b544">points</a>(), pp.<a class="code" href="a02004.html#ae4935f85c38392518565dd7c666e3caf">meshPoints</a>()).extend</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    (</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        rndGen,</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                        1<a class="code" href="a10958.html#a4225a7492f7d468ad5b985282c8ee7b1">e</a>-4</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    )</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                );</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                patchBb.<a class="code" href="a00154.html#a1dd50affef9a273ab682ccbf33df7b32">min</a>() -= <a class="code" href="a10958.html#a643590f4015338d12714af03d61a0ac9">point</a>(ROOTVSMALL, ROOTVSMALL, ROOTVSMALL);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                patchBb.max() += <a class="code" href="a10958.html#a643590f4015338d12714af03d61a0ac9">point</a>(ROOTVSMALL, ROOTVSMALL, ROOTVSMALL);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <a class="code" href="a01068.html">indexedOctree&lt;treeDataPoint&gt;</a> boundaryTree</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                (</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                    <a class="code" href="a02746.html">treeDataPoint</a>   <span class="comment">// all information needed to search faces</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    (</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        mesh.<a class="code" href="a01949.html#a084ae534298576408f063a6b3b820959">points</a>(),</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        pp.<a class="code" href="a02004.html#ae4935f85c38392518565dd7c666e3caf">meshPoints</a>() <span class="comment">// selection of points to search on</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    ),</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    patchBb,        <span class="comment">// overall search domain</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    8,              <span class="comment">// maxLevel</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    10,             <span class="comment">// leafsize</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    3.0             <span class="comment">// duplicity</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                );</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(samples, sampleI)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; sample = samples[sampleI];</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    <a class="code" href="a01917.html">pointIndexHit</a>&amp; <a class="code" href="a02766.html">nearInfo</a> = nearest[sampleI].<a class="code" href="a02766.html#a6bc9dc0330d36f5f75e816ddc4ec213e">first</a>();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    nearInfo = boundaryTree.findNearest</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    (</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        sample,</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                        <a class="code" href="a10958.html#ae6fff2c6981e6d9618aa5038e69def6e">magSqr</a>(patchBb.span())</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    );</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    <span class="keywordflow">if</span> (!nearInfo.<a class="code" href="a01917.html#ad963d38a624b8bf8b37c210109dba03c">hit</a>())</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                        nearest[sampleI].second().first() = <a class="code" href="a10958.html#a277dc11c581d53826ab5090b08f3b17b">Foam::sqr</a>(GREAT);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        nearest[sampleI].second().second() =</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                            <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; pt = nearInfo.<a class="code" href="a01917.html#a0c448cd4b96e9ea9ba38c62c019a8bce">hitPoint</a>();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        nearest[sampleI].second().first() = <a class="code" href="a10958.html#ae6fff2c6981e6d9618aa5038e69def6e">magSqr</a>(pt-sample);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        nearest[sampleI].second().second() =</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                            <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">case</span> NEARESTFACE:</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="keywordflow">if</span> (samplePatch().size() &amp;&amp; samplePatch() != <span class="stringliteral">&quot;none&quot;</span>)</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;No need to supply a patch name when in &quot;</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    &lt;&lt; sampleModeNames_[<a class="code" href="a10958.html#a7c482c9f0ea60317169ee39f62f670d4">mode</a>] &lt;&lt; <span class="stringliteral">&quot; mode.&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="comment">//- Note: face-diagonal decomposition</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keyword">const</span> <a class="code" href="a01501.html">meshSearchMeshObject</a>&amp; meshSearchEngine =</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <a class="code" href="a01495.html#ab61cc2091ec1fd7e08e8948e84235a05">meshSearchMeshObject::New</a>(mesh);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(samples, sampleI)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; sample = samples[sampleI];</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> faceI = meshSearchEngine.<a class="code" href="a01499.html#a7423e4df07642bb26d9254d20d81514d">findNearestFace</a>(sample);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">if</span> (faceI == -1)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    nearest[sampleI].second().first() = <a class="code" href="a10958.html#a277dc11c581d53826ab5090b08f3b17b">Foam::sqr</a>(GREAT);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    nearest[sampleI].second().second() = <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; fc = mesh.<a class="code" href="a02001.html#a56749206c7d38a4c3cfbf4103547e555">faceCentres</a>()[faceI];</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    nearest[sampleI].<a class="code" href="a02828.html#a1c9828bc3de9502754d944c95a2ce0d9">first</a>() = <a class="code" href="a10958.html#a29558ed008131ebedb6c3b965e9f4175">pointIndexHit</a></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    (</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                        <span class="keyword">true</span>,</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        fc,</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                        faceI</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                    );</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                    nearest[sampleI].second().first() = <a class="code" href="a10958.html#ae6fff2c6981e6d9618aa5038e69def6e">magSqr</a>(fc-sample);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                    nearest[sampleI].second().second() = <a class="code" href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Pstream::myProcNo</a>();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">case</span> NEARESTPATCHFACEAMI:</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="comment">// nothing to do here</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;problem.&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a447107a607d03e417307c203fa5fb44b">abort</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// Find nearest. Combine on master.</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="a02049.html#a8c0e5044dc4a942cf62b06797c3a743f">Pstream::listCombineGather</a>(nearest, <a class="code" href="a01605.html">nearestEqOp</a>());</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="a02049.html#adfd4915b68ab7181dccb847976286e56">Pstream::listCombineScatter</a>(nearest);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (debug)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="a07842.html#abebc35e120bacb3eea618b4e97c7efd6">InfoInFunction</a></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;mesh &quot;</span> &lt;&lt; sampleRegion() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(nearest, sampleI)</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> procI = nearest[sampleI].second().second();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> localI = nearest[sampleI].first().index();</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <a class="code" href="a10958.html#a501e80d1e14c94973e82f1555e7eb711">Info</a>&lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; sampleI &lt;&lt; <span class="stringliteral">&quot; coord:&quot;</span>&lt;&lt; samples[sampleI]</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; found on processor:&quot;</span> &lt;&lt; procI</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; in local cell/face/point:&quot;</span> &lt;&lt; localI</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; with location:&quot;</span> &lt;&lt; nearest[sampleI].<a class="code" href="a02828.html#a1c9828bc3de9502754d944c95a2ce0d9">first</a>().rawPoint()</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// Convert back into proc+local index</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    sampleProcs.<a class="code" href="a01387.html#aedb985ffeaf1bdbfeccc2a8730405703">setSize</a>(samples.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>());</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    sampleIndices.<a class="code" href="a01387.html#aedb985ffeaf1bdbfeccc2a8730405703">setSize</a>(samples.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>());</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    sampleLocations.<a class="code" href="a01387.html#aedb985ffeaf1bdbfeccc2a8730405703">setSize</a>(samples.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>());</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(nearest, sampleI)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span> (!nearest[sampleI].first().hit())</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            sampleProcs[sampleI] = -1;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            sampleIndices[sampleI] = -1;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            sampleLocations[sampleI] = <a class="code" href="a02886.html#aa699ca727d483dc9a905519ccc69d655">vector::max</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            sampleProcs[sampleI] = nearest[sampleI].second().second();</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            sampleIndices[sampleI] = nearest[sampleI].<a class="code" href="a02828.html#a1c9828bc3de9502754d944c95a2ce0d9">first</a>().index();</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            sampleLocations[sampleI] = nearest[sampleI].<a class="code" href="a02828.html#a1c9828bc3de9502754d944c95a2ce0d9">first</a>().hitPoint();</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="a01445.html#a855421729b0363f1d9b0341a153f12b1">  520</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a01445.html#a855421729b0363f1d9b0341a153f12b1">Foam::mappedPatchBase::calcMapping</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> hasWarned = <span class="keyword">false</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> (mapPtr_.valid())</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Mapping already calculated&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// Get points on face (since cannot use face-centres - might be off</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// face-diagonal decomposed tets.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="a02691.html">tmp&lt;pointField&gt;</a> patchPoints(facePoints(patch_));</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// Get offsetted points</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00766.html">pointField</a> offsettedPoints(samplePoints(patchPoints()));</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// Do a sanity check - am I sampling my own patch?</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// This only makes sense for a non-zero offset.</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordtype">bool</span> sampleMyself =</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    (</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        mode_ == NEARESTPATCHFACE</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;     &amp;&amp; sampleRegion() == patch_.boundaryMesh().mesh().name()</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;     &amp;&amp; samplePatch() == patch_.name()</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    );</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// Check offset</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="a00766.html">vectorField</a> d(offsettedPoints-patchPoints());</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">bool</span> coincident = (<a class="code" href="a10958.html#ab45e56189711a2e5cdd381a0e2b6cc5c">gAverage</a>(<a class="code" href="a10958.html#a929da2a3fdcf3dacbbe0487d3a330dae">mag</a>(d)) &lt;= ROOTVSMALL);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (sampleMyself &amp;&amp; coincident)</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <a class="code" href="a07842.html#a58548a3fc67fb931bc4e99f94d5f41b8">WarningInFunction</a></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Invalid offset &quot;</span> &lt;&lt; d &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Offset is the vector added to the patch face centres to&quot;</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; find the patch face supplying the data.&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Setting it to &quot;</span> &lt;&lt; d</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; on the same patch, on the same region&quot;</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; will find the faces themselves which does not make sense&quot;</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; for anything but testing.&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;patch_:&quot;</span> &lt;&lt; patch_.<a class="code" href="a01202.html#ab27acd1d200f0d245337451aa2f31517">name</a>() &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;sampleRegion_:&quot;</span> &lt;&lt; sampleRegion() &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;mode_:&quot;</span> &lt;&lt; sampleModeNames_[mode_] &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;samplePatch_:&quot;</span> &lt;&lt; samplePatch() &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;offsetMode_:&quot;</span> &lt;&lt; offsetModeNames_[offsetMode_] &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// Get global list of all samples and the processor and face they come from.</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="a00766.html">pointField</a> <a class="code" href="a04522.html#a14d38e99c2caf50fd9f0aa0d5ef88e3b">samples</a>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="a01387.html">labelList</a> patchFaceProcs;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="a01387.html">labelList</a> patchFaces;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="a00766.html">pointField</a> patchFc;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    collectSamples</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    (</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        patchPoints,</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        samples,</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        patchFaceProcs,</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        patchFaces,</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        patchFc</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    );</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// Find processor and cell/face samples are in and actual location.</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="a01387.html">labelList</a> sampleProcs;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="a01387.html">labelList</a> sampleIndices;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="a00766.html">pointField</a> sampleLocations;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    findSamples(mode_, samples, sampleProcs, sampleIndices, sampleLocations);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// Check for samples that were not found. This will only happen for</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// NEARESTCELL since finds cell containing a location</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span> (mode_ == NEARESTCELL)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> nNotFound = 0;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(sampleProcs, sampleI)</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">if</span> (sampleProcs[sampleI] == -1)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                nNotFound++;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <a class="code" href="a10958.html#a7ffd6af4acc2eb9ba72ee296b5ecda23">reduce</a>(nNotFound, <a class="code" href="a02538.html">sumOp&lt;label&gt;</a>());</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">if</span> (nNotFound &gt; 0)</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">if</span> (!hasWarned)</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <a class="code" href="a07842.html#a58548a3fc67fb931bc4e99f94d5f41b8">WarningInFunction</a></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;Did not find &quot;</span> &lt;&lt; nNotFound</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; out of &quot;</span> &lt;&lt; sampleProcs.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>() &lt;&lt; <span class="stringliteral">&quot; total samples.&quot;</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; Sampling these on owner cell centre instead.&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;On patch &quot;</span> &lt;&lt; patch_.<a class="code" href="a01202.html#ab27acd1d200f0d245337451aa2f31517">name</a>()</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; on region &quot;</span> &lt;&lt; sampleRegion()</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; in mode &quot;</span> &lt;&lt; sampleModeNames_[mode_] &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;with offset mode &quot;</span> &lt;&lt; offsetModeNames_[offsetMode_]</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;. Suppressing further warnings from &quot;</span> &lt;&lt; <a class="code" href="a10958.html#aec48583af672626378f501eb9fc32cd1">type</a>() &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a>;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                hasWarned = <span class="keyword">true</span>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <span class="comment">// Collect the samples that cannot be found</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <a class="code" href="a00614.html">DynamicList&lt;label&gt;</a> subMap;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <a class="code" href="a00607.html">DynamicField&lt;point&gt;</a> subSamples;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(sampleProcs, sampleI)</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                <span class="keywordflow">if</span> (sampleProcs[sampleI] == -1)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                    subMap.<a class="code" href="a00614.html#a7b67b42af715604376ad63a681dee6d8">append</a>(sampleI);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    subSamples.<a class="code" href="a00607.html#a13502d5ef5b1f4dd51744972bd50c759">append</a>(samples[sampleI]);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="comment">// And re-search for pure nearest (should not fail)</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <a class="code" href="a01387.html">labelList</a> subSampleProcs;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <a class="code" href="a01387.html">labelList</a> subSampleIndices;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <a class="code" href="a00766.html">pointField</a> subSampleLocations;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            findSamples</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            (</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                NEARESTONLYCELL,</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                subSamples,</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                subSampleProcs,</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                subSampleIndices,</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                subSampleLocations</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            );</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="comment">// Insert</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <a class="code" href="a02826.html">UIndirectList&lt;label&gt;</a>(sampleProcs, subMap) = subSampleProcs;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <a class="code" href="a02826.html">UIndirectList&lt;label&gt;</a>(sampleIndices, subMap) = subSampleIndices;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <a class="code" href="a02826.html">UIndirectList&lt;point&gt;</a>(sampleLocations, subMap) = subSampleLocations;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// Now we have all the data we need:</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">// - where sample originates from (so destination when mapping):</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="comment">//   patchFaces, patchFaceProcs.</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// - cell/face sample is in (so source when mapping)</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">//   sampleIndices, sampleProcs.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">//forAll(samples, i)</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">//{</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">//    Info&lt;&lt; i &lt;&lt; &quot; need data in region &quot;</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">//        &lt;&lt; patch_.boundaryMesh().mesh().name()</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="comment">//        &lt;&lt; &quot; for proc:&quot; &lt;&lt; patchFaceProcs[i]</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">//        &lt;&lt; &quot; face:&quot; &lt;&lt; patchFaces[i]</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">//        &lt;&lt; &quot; at:&quot; &lt;&lt; patchFc[i] &lt;&lt; endl</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">//        &lt;&lt; &quot;Found data in region &quot; &lt;&lt; sampleRegion()</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">//        &lt;&lt; &quot; at proc:&quot; &lt;&lt; sampleProcs[i]</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">//        &lt;&lt; &quot; face:&quot; &lt;&lt; sampleIndices[i]</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">//        &lt;&lt; &quot; at:&quot; &lt;&lt; sampleLocations[i]</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">//        &lt;&lt; nl &lt;&lt; endl;</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">//}</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (debug &amp;&amp; <a class="code" href="a02859.html#a36af549940a0aae3733774649594489f">Pstream::master</a>())</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    {</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="a01736.html">OFstream</a> str</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        (</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            patch_.boundaryMesh().mesh().time().path()</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          / patch_.name()</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;          + <span class="stringliteral">&quot;_mapped.obj&quot;</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        );</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="a10958.html#a1bc01f0470f765b8c1e9e7d09b5754bf">Pout</a>&lt;&lt; <span class="stringliteral">&quot;Dumping mapping as lines from patch faceCentres to&quot;</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; sampled cell/faceCentres/points to file &quot;</span> &lt;&lt; str.<a class="code" href="a01768.html#ab27acd1d200f0d245337451aa2f31517">name</a>()</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> vertI = 0;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(patchFc, i)</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <a class="code" href="a11013.html#afd76c6ccc8ee4a5957f0232218167c17">meshTools::writeOBJ</a>(str, patchFc[i]);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            vertI++;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <a class="code" href="a11013.html#afd76c6ccc8ee4a5957f0232218167c17">meshTools::writeOBJ</a>(str, sampleLocations[i]);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            vertI++;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            str &lt;&lt; <span class="stringliteral">&quot;l &quot;</span> &lt;&lt; vertI-1 &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; vertI &lt;&lt; <a class="code" href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">nl</a>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// Determine schedule.</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    mapPtr_.reset(<span class="keyword">new</span> <a class="code" href="a01427.html">mapDistribute</a>(sampleProcs, patchFaceProcs));</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// Rework the schedule from indices into samples to cell data to send,</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// face data to receive.</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="a01387.html">labelListList</a>&amp; subMap = mapPtr_().subMap();</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="a01387.html">labelListList</a>&amp; constructMap = mapPtr_().constructMap();</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(subMap, procI)</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        subMap[procI] = <a class="code" href="a02826.html">UIndirectList&lt;label&gt;</a></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        (</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            sampleIndices,</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            subMap[procI]</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        );</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        constructMap[procI] = <a class="code" href="a02826.html">UIndirectList&lt;label&gt;</a></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        (</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            patchFaces,</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            constructMap[procI]</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        );</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="comment">//if (debug)</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="comment">//{</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="comment">//    Pout&lt;&lt; &quot;To proc:&quot; &lt;&lt; procI &lt;&lt; &quot; sending values of cells/faces:&quot;</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="comment">//        &lt;&lt; subMap[procI] &lt;&lt; endl;</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="comment">//    Pout&lt;&lt; &quot;From proc:&quot; &lt;&lt; procI</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="comment">//        &lt;&lt; &quot; receiving values of patch faces:&quot;</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="comment">//        &lt;&lt; constructMap[procI] &lt;&lt; endl;</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="comment">//}</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// Redo constructSize</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    mapPtr_().constructSize() = patch_.<a class="code" href="a02826.html#a723361dc2020160f5492e8fe2d09fa44">size</a>();</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span> (debug)</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="comment">// Check that all elements get a value.</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <a class="code" href="a01789.html">PackedBoolList</a> used(patch_.size());</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(constructMap, procI)</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <span class="keyword">const</span> <a class="code" href="a01387.html">labelList</a>&amp; map = constructMap[procI];</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(map, i)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> faceI = map[i];</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <span class="keywordflow">if</span> (used[faceI] == 0)</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                    used[faceI] = 1;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;On patch &quot;</span> &lt;&lt; patch_.name()</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; patchface &quot;</span> &lt;&lt; faceI</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; is assigned to more than once.&quot;</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                        &lt;&lt; <a class="code" href="a10958.html#a447107a607d03e417307c203fa5fb44b">abort</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <a class="code" href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a>(used, faceI)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordflow">if</span> (used[faceI] == 0)</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;On patch &quot;</span> &lt;&lt; patch_.name()</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; patchface &quot;</span> &lt;&lt; faceI</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; is never assigned to.&quot;</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                    &lt;&lt; <a class="code" href="a10958.html#a447107a607d03e417307c203fa5fb44b">abort</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="a01445.html#add4f5204e386a3b34748b7fbdf7bd8b2">  772</a></span>&#160;<span class="keyword">const</span> <a class="code" href="a00086.html">Foam::autoPtr&lt;Foam::searchableSurface&gt;</a>&amp; <a class="code" href="a01445.html#add4f5204e386a3b34748b7fbdf7bd8b2">Foam::mappedPatchBase::surfPtr</a>()<span class="keyword"></span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="keyword">const</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02966.html">word</a> surfType(surfDict_.lookupOrDefault&lt;<a class="code" href="a02966.html">word</a>&gt;(<span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;none&quot;</span>));</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (!surfPtr_.valid() &amp;&amp; surfType != <span class="stringliteral">&quot;none&quot;</span>)</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="a02966.html">word</a> surfName(surfDict_.lookupOrDefault(<span class="stringliteral">&quot;name&quot;</span>, patch_.name()));</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keyword">const</span> <a class="code" href="a01949.html">polyMesh</a>&amp; mesh = patch_.<a class="code" href="a01949.html#a6b7f5ba89250dbd7a1c6c7860ab60fe3">boundaryMesh</a>().<a class="code" href="a01943.html#aa51573bc757d5d5bb058db0464886447">mesh</a>();</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        surfPtr_ =</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <a class="code" href="a02317.html#a9dee63d319c83c226c226575d5f61084">searchableSurface::New</a></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            (</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                surfType,</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <a class="code" href="a01196.html">IOobject</a></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                (</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    surfName,</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    mesh.<a class="code" href="a01722.html#a48fcf6de2789aff6b430b5fc1a05693f">time</a>().<a class="code" href="a02682.html#a5aa65a27a46ca75d80f0821d80606c04">constant</a>(),</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                    <span class="stringliteral">&quot;triSurface&quot;</span>,</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    <a class="code" href="a04823.html#a4c1de256df6b3d186a85745b3149394a">mesh</a>,</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                    <a class="code" href="a01196.html#a20b9ac27bfc4eb7f88f7ae5771de6bf0a9e7b8f2e0979fecd1bbc84564f3d3891">IOobject::MUST_READ</a>,</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    <a class="code" href="a01196.html#ade8fe914e1b32f96447fe9b2f8bbfc51a49d7e3f5888432d6048abf6cab3988d4">IOobject::NO_WRITE</a></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                ),</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                surfDict_</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            );</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> surfPtr_;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="a01445.html#afa9ee1ee09345abf9d30d18090559e42">  804</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a01445.html#afa9ee1ee09345abf9d30d18090559e42">Foam::mappedPatchBase::calcAMI</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">if</span> (AMIPtr_.valid())</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    {</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;AMI already calculated&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    AMIPtr_.clear();</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (debug)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; nbr = samplePolyPatch();</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="a00766.html">pointField</a> nbrPoints(nbr.<a class="code" href="a02004.html#a180aa335ba66b3224df33de8eb29b3bf">localPoints</a>());</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="a01736.html">OFstream</a> os(patch_.name() + <span class="stringliteral">&quot;_neighbourPatch-org.obj&quot;</span>);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="a11013.html#afd76c6ccc8ee4a5957f0232218167c17">meshTools::writeOBJ</a>(os, samplePolyPatch().localFaces(), nbrPoints);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="comment">// transform neighbour patch to local system</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <a class="code" href="a02004.html">primitivePatch</a> nbrPatch0</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        (</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <a class="code" href="a02535.html">SubList&lt;face&gt;</a></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            (</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                nbr.<a class="code" href="a02004.html#af5aca3ce69275c80366bc8d5c0584da2">localFaces</a>(),</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                nbr.size()</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            ),</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            nbrPoints</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        );</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="a01736.html">OFstream</a> osN(patch_.name() + <span class="stringliteral">&quot;_neighbourPatch-trans.obj&quot;</span>);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="a11013.html#afd76c6ccc8ee4a5957f0232218167c17">meshTools::writeOBJ</a>(osN, nbrPatch0, nbrPoints);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <a class="code" href="a01736.html">OFstream</a> osO(patch_.name() + <span class="stringliteral">&quot;_ownerPatch.obj&quot;</span>);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="a11013.html#afd76c6ccc8ee4a5957f0232218167c17">meshTools::writeOBJ</a>(osO, patch_.localFaces(), patch_.localPoints());</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// Construct/apply AMI interpolation to determine addressing and weights</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    AMIPtr_.reset</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    (</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keyword">new</span> <a class="code" href="a00048.html">AMIPatchToPatchInterpolation</a></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        (</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            patch_,</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            samplePolyPatch(), <span class="comment">// nbrPatch0,</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            surfPtr(),</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <a class="code" href="a00727.html#a48ccf896be4178d59a83b240eab39746a3062690f4fcf29edf1908fba7091aaf5">faceAreaIntersect::tmMesh</a>,</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keyword">true</span>,</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            <a class="code" href="a00048.html#a0a69c034ef7e40ca01df129a6188de32afbc6fde4b6ac4526a11cc83cba6c54aa">AMIPatchToPatchInterpolation::imFaceAreaWeight</a>,</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            -1,</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            AMIReverse_</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        )</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    );</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;}</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">// Hack to read old (List-based) format. See Field.C. The difference</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">// is only that in case of falling back to old format it expects a non-uniform</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">// list instead of a single vector.</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<a class="code" href="a02691.html">Foam::tmp&lt;Foam::pointField&gt;</a> <a class="code" href="a01445.html#ab5e64ae976c301737f883167857ec318">Foam::mappedPatchBase::readListOrField</a></div><div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="a01445.html#ab5e64ae976c301737f883167857ec318">  863</a></span>&#160;(</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02966.html">word</a>&amp; keyword,</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00531.html">dictionary</a>&amp; dict,</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keyword">const</span> <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> size</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;)</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;{</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="a02691.html">tmp&lt;pointField&gt;</a> tfld(<span class="keyword">new</span> <a class="code" href="a10958.html#a5997a67f2e85a15c0e13a1724273aa5f">pointField</a>());</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="a00766.html">pointField</a>&amp; <a class="code" href="a04373.html#ad4512456f4da706b47fd304150561080">fld</a> = tfld.<a class="code" href="a02691.html#a355da090b61b5b48e7435dec5942b7e9">ref</a>();</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (size)</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="a01232.html">ITstream</a>&amp; is = dict.<a class="code" href="a00531.html#a8baab402d653d6e789f67c57e23a5b59">lookup</a>(keyword);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="comment">// Read first token</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <a class="code" href="a02693.html">token</a> firstToken(is);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="keywordflow">if</span> (firstToken.<a class="code" href="a02693.html#aff8351bf74c7880f1403c24dec1f82cd">isWord</a>())</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="keywordflow">if</span> (firstToken.<a class="code" href="a02693.html#ae0dabc7a27eb1575aebeb73cfb54832f">wordToken</a>() == <span class="stringliteral">&quot;uniform&quot;</span>)</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                fld.<a class="code" href="a01387.html#aedb985ffeaf1bdbfeccc2a8730405703">setSize</a>(size);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                fld = <a class="code" href="a02051.html">pTraits&lt;vector&gt;</a>(is);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (firstToken.<a class="code" href="a02693.html#ae0dabc7a27eb1575aebeb73cfb54832f">wordToken</a>() == <span class="stringliteral">&quot;nonuniform&quot;</span>)</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                is &gt;&gt; <span class="keyword">static_cast&lt;</span><a class="code" href="a01387.html">List&lt;vector&gt;</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="a04373.html#ad4512456f4da706b47fd304150561080">fld</a>);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                <span class="keywordflow">if</span> (fld.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>() != size)</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                    <a class="code" href="a07838.html#ace9d7789841cd28051f24d4eea0688f9">FatalIOErrorInFunction</a></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    (</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                        dict</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    )   &lt;&lt; <span class="stringliteral">&quot;size &quot;</span> &lt;&lt; fld.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>()</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; is not equal to the given value of &quot;</span> &lt;&lt; size</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#aa962c58f164ba66de90b6dbb08ace4c8">FatalIOError</a>);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                <a class="code" href="a07838.html#ace9d7789841cd28051f24d4eea0688f9">FatalIOErrorInFunction</a></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                (</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    dict</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                )   &lt;&lt; <span class="stringliteral">&quot;expected keyword &#39;uniform&#39; or &#39;nonuniform&#39;, found &quot;</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                    &lt;&lt; firstToken.<a class="code" href="a02693.html#ae0dabc7a27eb1575aebeb73cfb54832f">wordToken</a>()</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                    &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#aa962c58f164ba66de90b6dbb08ace4c8">FatalIOError</a>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keywordflow">if</span> (is.<a class="code" href="a01202.html#ac12266e2067a7baeb13af68a5e643edd">version</a>() == 2.0)</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                <a class="code" href="a07842.html#a4a312cae6a2c26e49e755db40d3690eb">IOWarningInFunction</a></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                (</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                    dict</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                )   &lt;&lt; <span class="stringliteral">&quot;expected keyword &#39;uniform&#39; or &#39;nonuniform&#39;, &quot;</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                       <span class="stringliteral">&quot;assuming List format for backwards compatibility.&quot;</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                       <span class="stringliteral">&quot;Foam version 2.0.&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                is.<a class="code" href="a01216.html#af22e503b062298eef54e360dfc06d0b4">putBack</a>(firstToken);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                is &gt;&gt; <span class="keyword">static_cast&lt;</span><a class="code" href="a01387.html">List&lt;vector&gt;</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="a04373.html#ad4512456f4da706b47fd304150561080">fld</a>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            }</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        }</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">return</span> tfld;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">// * * * * * * * * * * * * Constructors  * * * * * * * * * * * * * * * * * * //</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<a class="code" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="line"><a name="l00932"></a><span class="lineno"><a class="line" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">  932</a></span>&#160;(</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;)</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;:</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    patch_(pp),</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    sampleRegion_(patch_.boundaryMesh().mesh().name()),</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    mode_(NEARESTPATCHFACE),</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    samplePatch_(<span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    coupleGroup_(),</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    offsetMode_(UNIFORM),</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    offset_(<a class="code" href="a10958.html#a096223899a8703ef9b9706dbf2b9a148">Zero</a>),</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    offsets_(pp.size(), offset_),</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    distance_(0),</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    sameRegion_(sampleRegion_ == patch_.boundaryMesh().mesh().name()),</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    mapPtr_(NULL),</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    AMIPtr_(NULL),</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    AMIReverse_(<span class="keyword">false</span>),</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    surfPtr_(NULL),</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    surfDict_(<a class="code" href="a00791.html">fileName</a>(<span class="stringliteral">&quot;surface&quot;</span>))</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;{}</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<a class="code" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="a01445.html#aa8afe4cbd2bae8521661d97861775fd4">  955</a></span>&#160;(</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp,</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02966.html">word</a>&amp; sampleRegion,</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01445.html#a4a5f338705df00dc4b801f6f25112ccf">sampleMode</a> mode,</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02966.html">word</a>&amp; samplePatch,</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00766.html">vectorField</a>&amp; offsets</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;)</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;:</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    patch_(pp),</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    sampleRegion_(sampleRegion),</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    mode_(mode),</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    samplePatch_(samplePatch),</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    coupleGroup_(),</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    offsetMode_(NONUNIFORM),</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    offset_(<a class="code" href="a10958.html#a096223899a8703ef9b9706dbf2b9a148">Zero</a>),</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    offsets_(offsets),</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    distance_(0),</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    sameRegion_(sampleRegion_ == patch_.boundaryMesh().mesh().name()),</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    mapPtr_(NULL),</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    AMIPtr_(NULL),</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    AMIReverse_(<span class="keyword">false</span>),</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    surfPtr_(NULL),</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    surfDict_(<a class="code" href="a00791.html">fileName</a>(<span class="stringliteral">&quot;surface&quot;</span>))</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;{}</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<a class="code" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="a01445.html#a431eae39d238910fb03e7781298c699b">  982</a></span>&#160;(</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp,</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02966.html">word</a>&amp; sampleRegion,</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01445.html#a4a5f338705df00dc4b801f6f25112ccf">sampleMode</a> mode,</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02966.html">word</a>&amp; samplePatch,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02884.html">vector</a>&amp; offset</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;)</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;:</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    patch_(pp),</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    sampleRegion_(sampleRegion),</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    mode_(mode),</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    samplePatch_(samplePatch),</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    coupleGroup_(),</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    offsetMode_(UNIFORM),</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    offset_(offset),</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    offsets_(0),</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    distance_(0),</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    sameRegion_(sampleRegion_ == patch_.boundaryMesh().mesh().name()),</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    mapPtr_(NULL),</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    AMIPtr_(NULL),</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    AMIReverse_(<span class="keyword">false</span>),</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    surfPtr_(NULL),</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    surfDict_(<a class="code" href="a00791.html">fileName</a>(<span class="stringliteral">&quot;surface&quot;</span>))</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;{}</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<a class="code" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="line"><a name="l01009"></a><span class="lineno"><a class="line" href="a01445.html#a15df8337751cafd18f5d97bb32f0610d"> 1009</a></span>&#160;(</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp,</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02966.html">word</a>&amp; sampleRegion,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01445.html#a4a5f338705df00dc4b801f6f25112ccf">sampleMode</a> mode,</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02966.html">word</a>&amp; samplePatch,</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keyword">const</span> scalar distance</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;)</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;:</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    patch_(pp),</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    sampleRegion_(sampleRegion),</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    mode_(mode),</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    samplePatch_(samplePatch),</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    coupleGroup_(),</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    offsetMode_(NORMAL),</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    offset_(<a class="code" href="a10958.html#a096223899a8703ef9b9706dbf2b9a148">Zero</a>),</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    offsets_(0),</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    distance_(distance),</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    sameRegion_(sampleRegion_ == patch_.boundaryMesh().mesh().name()),</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    mapPtr_(NULL),</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    AMIPtr_(NULL),</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    AMIReverse_(<span class="keyword">false</span>),</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    surfPtr_(NULL),</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    surfDict_(<a class="code" href="a00791.html">fileName</a>(<span class="stringliteral">&quot;surface&quot;</span>))</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;{}</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<a class="code" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="line"><a name="l01036"></a><span class="lineno"><a class="line" href="a01445.html#ae57903ca8bbfe2944acf6a2cc72acc1e"> 1036</a></span>&#160;(</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp,</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00531.html">dictionary</a>&amp; dict</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;)</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;:</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    patch_(pp),</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    sampleRegion_(dict.<a class="code" href="a00531.html#ab188313de67c2c7ad4a5e8151eefb49d">lookupOrDefault</a>&lt;<a class="code" href="a02966.html">word</a>&gt;(<span class="stringliteral">&quot;sampleRegion&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    mode_(sampleModeNames_.read(dict.<a class="code" href="a00531.html#a8baab402d653d6e789f67c57e23a5b59">lookup</a>(<span class="stringliteral">&quot;sampleMode&quot;</span>))),</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    samplePatch_(dict.<a class="code" href="a00531.html#ab188313de67c2c7ad4a5e8151eefb49d">lookupOrDefault</a>&lt;<a class="code" href="a02966.html">word</a>&gt;(<span class="stringliteral">&quot;samplePatch&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    coupleGroup_(dict),</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    offsetMode_(UNIFORM),</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    offset_(<a class="code" href="a10958.html#a096223899a8703ef9b9706dbf2b9a148">Zero</a>),</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    offsets_(0),</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    distance_(0.0),</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    sameRegion_(sampleRegion_ == patch_.boundaryMesh().mesh().name()),</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    mapPtr_(NULL),</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    AMIPtr_(NULL),</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    AMIReverse_(dict.<a class="code" href="a00531.html#ab188313de67c2c7ad4a5e8151eefb49d">lookupOrDefault</a>&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;flipNormals&quot;</span>, <span class="keyword">false</span>)),</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    surfPtr_(NULL),</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    surfDict_(dict.<a class="code" href="a00531.html#a9162446f5a508ee28a210d2bc19d2d1a">subOrEmptyDict</a>(<span class="stringliteral">&quot;surface&quot;</span>))</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;{</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span> (!coupleGroup_.valid())</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">if</span> (sampleRegion_.empty())</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="comment">// If no coupleGroup and no sampleRegion assume local region</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            sampleRegion_ = patch_.boundaryMesh().mesh().name();</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            sameRegion_ = <span class="keyword">true</span>;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">if</span> (dict.<a class="code" href="a00531.html#ae9d6521e0e8d3956f9b49ddeb44877b8">found</a>(<span class="stringliteral">&quot;offsetMode&quot;</span>))</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        offsetMode_ = offsetModeNames_.read(dict.<a class="code" href="a00531.html#a8baab402d653d6e789f67c57e23a5b59">lookup</a>(<span class="stringliteral">&quot;offsetMode&quot;</span>));</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">switch</span>(offsetMode_)</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordflow">case</span> UNIFORM:</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                offset_ = <a class="code" href="a10958.html#a643590f4015338d12714af03d61a0ac9">point</a>(dict.<a class="code" href="a00531.html#a8baab402d653d6e789f67c57e23a5b59">lookup</a>(<span class="stringliteral">&quot;offset&quot;</span>));</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            }</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordflow">case</span> NONUNIFORM:</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                <span class="comment">//offsets_ = pointField(dict.lookup(&quot;offsets&quot;));</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                offsets_ = readListOrField(<span class="stringliteral">&quot;offsets&quot;</span>, dict, patch_.<a class="code" href="a00580.html#a723361dc2020160f5492e8fe2d09fa44">size</a>());</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            }</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <span class="keywordflow">case</span> NORMAL:</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            {</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                distance_ = <a class="code" href="a10958.html#a828d57f6d9b9806c086a3f840a147115">readScalar</a>(dict.<a class="code" href="a00531.html#a8baab402d653d6e789f67c57e23a5b59">lookup</a>(<span class="stringliteral">&quot;distance&quot;</span>));</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dict.<a class="code" href="a00531.html#ae9d6521e0e8d3956f9b49ddeb44877b8">found</a>(<span class="stringliteral">&quot;offset&quot;</span>))</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        offsetMode_ = UNIFORM;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        offset_ = <a class="code" href="a10958.html#a643590f4015338d12714af03d61a0ac9">point</a>(dict.<a class="code" href="a00531.html#a8baab402d653d6e789f67c57e23a5b59">lookup</a>(<span class="stringliteral">&quot;offset&quot;</span>));</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dict.<a class="code" href="a00531.html#ae9d6521e0e8d3956f9b49ddeb44877b8">found</a>(<span class="stringliteral">&quot;offsets&quot;</span>))</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    {</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        offsetMode_ = NONUNIFORM;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="comment">//offsets_ = pointField(dict.lookup(&quot;offsets&quot;));</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        offsets_ = readListOrField(<span class="stringliteral">&quot;offsets&quot;</span>, dict, patch_.<a class="code" href="a00580.html#a723361dc2020160f5492e8fe2d09fa44">size</a>());</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    }</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mode_ != NEARESTPATCHFACE &amp;&amp; mode_ != NEARESTPATCHFACEAMI)</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="a07838.html#ace9d7789841cd28051f24d4eea0688f9">FatalIOErrorInFunction</a></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        (</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            dict</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        )   &lt;&lt; <span class="stringliteral">&quot;Please supply the offsetMode as one of &quot;</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            &lt;&lt; <a class="code" href="a01597.html#a9098a02b904581f69e4d0344ccd36c40">NamedEnum&lt;offsetMode, 3&gt;::words</a>()</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#aa962c58f164ba66de90b6dbb08ace4c8">FatalIOError</a>);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<a class="code" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="line"><a name="l01117"></a><span class="lineno"><a class="line" href="a01445.html#a4c135e71961c4656c32908078c3a0289"> 1117</a></span>&#160;(</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp,</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01445.html#a4a5f338705df00dc4b801f6f25112ccf">sampleMode</a> mode,</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00531.html">dictionary</a>&amp; dict</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;)</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;:</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    patch_(pp),</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    sampleRegion_(dict.<a class="code" href="a00531.html#ab188313de67c2c7ad4a5e8151eefb49d">lookupOrDefault</a>&lt;<a class="code" href="a02966.html">word</a>&gt;(<span class="stringliteral">&quot;sampleRegion&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    mode_(mode),</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    samplePatch_(dict.<a class="code" href="a00531.html#ab188313de67c2c7ad4a5e8151eefb49d">lookupOrDefault</a>&lt;<a class="code" href="a02966.html">word</a>&gt;(<span class="stringliteral">&quot;samplePatch&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    coupleGroup_(dict), <span class="comment">//dict.lookupOrDefault&lt;word&gt;(&quot;coupleGroup&quot;, &quot;&quot;)),</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    offsetMode_(UNIFORM),</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    offset_(<a class="code" href="a10958.html#a096223899a8703ef9b9706dbf2b9a148">Zero</a>),</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    offsets_(0),</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    distance_(0.0),</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    sameRegion_(sampleRegion_ == patch_.boundaryMesh().mesh().name()),</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    mapPtr_(NULL),</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    AMIPtr_(NULL),</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    AMIReverse_(dict.<a class="code" href="a00531.html#ab188313de67c2c7ad4a5e8151eefb49d">lookupOrDefault</a>&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;flipNormals&quot;</span>, <span class="keyword">false</span>)),</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    surfPtr_(NULL),</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    surfDict_(dict.<a class="code" href="a00531.html#a9162446f5a508ee28a210d2bc19d2d1a">subOrEmptyDict</a>(<span class="stringliteral">&quot;surface&quot;</span>))</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;{</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">if</span> (mode != NEARESTPATCHFACE &amp;&amp; mode != NEARESTPATCHFACEAMI)</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <a class="code" href="a07838.html#ace9d7789841cd28051f24d4eea0688f9">FatalIOErrorInFunction</a></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        (</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            dict</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        )   &lt;&lt; <span class="stringliteral">&quot;Construct from sampleMode and dictionary only applicable for &quot;</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; collocated patches in modes &quot;</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            &lt;&lt; sampleModeNames_[NEARESTPATCHFACE] &lt;&lt; <span class="charliteral">&#39;,&#39;</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            &lt;&lt; sampleModeNames_[NEARESTPATCHFACEAMI]</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#aa962c58f164ba66de90b6dbb08ace4c8">FatalIOError</a>);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keywordflow">if</span> (!coupleGroup_.valid())</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    {</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <span class="keywordflow">if</span> (sampleRegion_.empty())</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        {</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            <span class="comment">// If no coupleGroup and no sampleRegion assume local region</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            sampleRegion_ = patch_.boundaryMesh().mesh().name();</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            sameRegion_ = <span class="keyword">true</span>;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        }</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    }</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;}</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<a class="code" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="line"><a name="l01165"></a><span class="lineno"><a class="line" href="a01445.html#a1adb56b4395b952b2013e4782617c8f1"> 1165</a></span>&#160;(</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp,</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01445.html">mappedPatchBase</a>&amp; mpb</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;)</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;:</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    patch_(pp),</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    sampleRegion_(mpb.<a class="code" href="a01445.html#a7b563fa10a8ec858bfdf2d773ca84e48">sampleRegion_</a>),</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    mode_(mpb.<a class="code" href="a01445.html#a6fc0e2d21865eed0e3e068a2cd386dec">mode_</a>),</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    samplePatch_(mpb.<a class="code" href="a01445.html#a87890ae288d12853bba8f813b211c4c2">samplePatch_</a>),</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    coupleGroup_(mpb.<a class="code" href="a01445.html#ad85f2f334acc61084859fedd8050b4d5">coupleGroup_</a>),</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    offsetMode_(mpb.<a class="code" href="a01445.html#ae661cd89c412ddb26b62a475ac2939b2">offsetMode_</a>),</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    offset_(mpb.<a class="code" href="a01445.html#ae63db729f395292e928ec6142cf12685">offset_</a>),</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    offsets_(mpb.<a class="code" href="a01445.html#a2c8b92679473c545e0986cc19bfeb0de">offsets_</a>),</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    distance_(mpb.<a class="code" href="a01445.html#a11c859a41686921caa7b61c787a8da1f">distance_</a>),</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    sameRegion_(mpb.<a class="code" href="a01445.html#a79f62c662bf1b20726f904c033aca91a">sameRegion_</a>),</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    mapPtr_(NULL),</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    AMIPtr_(NULL),</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    AMIReverse_(mpb.<a class="code" href="a01445.html#a4f77ac596eed0b04cf43d9180dbb88aa">AMIReverse_</a>),</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    surfPtr_(NULL),</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    surfDict_(mpb.<a class="code" href="a01445.html#ab8a85263c1f58c55ace7c4260d6a228f">surfDict_</a>)</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;{}</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<a class="code" href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="a01445.html#a572cef38b5358675e61cdee59dc1f9f2"> 1189</a></span>&#160;(</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01967.html">polyPatch</a>&amp; pp,</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01445.html">mappedPatchBase</a>&amp; mpb,</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02828.html">labelUList</a>&amp; mapAddressing</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;)</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;:</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    patch_(pp),</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    sampleRegion_(mpb.<a class="code" href="a01445.html#a7b563fa10a8ec858bfdf2d773ca84e48">sampleRegion_</a>),</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    mode_(mpb.<a class="code" href="a01445.html#a6fc0e2d21865eed0e3e068a2cd386dec">mode_</a>),</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    samplePatch_(mpb.<a class="code" href="a01445.html#a87890ae288d12853bba8f813b211c4c2">samplePatch_</a>),</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    coupleGroup_(mpb.<a class="code" href="a01445.html#ad85f2f334acc61084859fedd8050b4d5">coupleGroup_</a>),</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    offsetMode_(mpb.<a class="code" href="a01445.html#ae661cd89c412ddb26b62a475ac2939b2">offsetMode_</a>),</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    offset_(mpb.<a class="code" href="a01445.html#ae63db729f395292e928ec6142cf12685">offset_</a>),</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    offsets_</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    (</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        offsetMode_ == NONUNIFORM</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      ? <a class="code" href="a10958.html#aa6a94734c26b4f5d0008931862eddcd8">vectorField</a>(mpb.<a class="code" href="a01445.html#a2c8b92679473c545e0986cc19bfeb0de">offsets_</a>, mapAddressing)</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      : <a class="code" href="a00766.html">vectorField</a>(0)</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    ),</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    distance_(mpb.<a class="code" href="a01445.html#a11c859a41686921caa7b61c787a8da1f">distance_</a>),</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    sameRegion_(mpb.<a class="code" href="a01445.html#a79f62c662bf1b20726f904c033aca91a">sameRegion_</a>),</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    mapPtr_(NULL),</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    AMIPtr_(NULL),</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    AMIReverse_(mpb.<a class="code" href="a01445.html#a4f77ac596eed0b04cf43d9180dbb88aa">AMIReverse_</a>),</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    surfPtr_(NULL),</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    surfDict_(mpb.<a class="code" href="a01445.html#ab8a85263c1f58c55ace7c4260d6a228f">surfDict_</a>)</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;{}</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment">// * * * * * * * * * * * * * * * * Destructor  * * * * * * * * * * * * * * * //</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"><a class="line" href="a01445.html#ac6a17df158bf5b8c3e4768da0f40139b"> 1220</a></span>&#160;<a class="code" href="a01445.html#ac6a17df158bf5b8c3e4768da0f40139b">Foam::mappedPatchBase::~mappedPatchBase</a>()</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;{</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    clearOut();</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;}</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"><a class="line" href="a01445.html#af320697688df08f1438d37a86bcaf25d"> 1226</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a01445.html#af320697688df08f1438d37a86bcaf25d">Foam::mappedPatchBase::clearOut</a>()</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;{</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    mapPtr_.clear();</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    AMIPtr_.clear();</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    surfPtr_.clear();</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;}</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="comment">// * * * * * * * * * * * * * * * Member Functions  * * * * * * * * * * * * * //</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"><a class="line" href="a01445.html#a80e7d2240854cf86b347a95cb1bab341"> 1236</a></span>&#160;<span class="keyword">const</span> <a class="code" href="a01949.html">Foam::polyMesh</a>&amp; <a class="code" href="a01445.html#a80e7d2240854cf86b347a95cb1bab341">Foam::mappedPatchBase::sampleMesh</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">return</span> patch_.<a class="code" href="a01949.html#a6b7f5ba89250dbd7a1c6c7860ab60fe3">boundaryMesh</a>().<a class="code" href="a01943.html#aa51573bc757d5d5bb058db0464886447">mesh</a>().<a class="code" href="a01722.html#a48fcf6de2789aff6b430b5fc1a05693f">time</a>().<a class="code" href="a01722.html#affcae20935bdf1726ec1f822228a2330">lookupObject</a>&lt;<a class="code" href="a01949.html">polyMesh</a>&gt;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    (</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        sampleRegion()</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    );</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;}</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="a01445.html#a3434acc5afba1f7b7b8f4c573befd8b3"> 1245</a></span>&#160;<span class="keyword">const</span> <a class="code" href="a01967.html">Foam::polyPatch</a>&amp; <a class="code" href="a01445.html#a3434acc5afba1f7b7b8f4c573befd8b3">Foam::mappedPatchBase::samplePolyPatch</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01949.html">polyMesh</a>&amp; nbrMesh = sampleMesh();</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keyword">const</span> <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> patchI = nbrMesh.<a class="code" href="a01949.html#a6b7f5ba89250dbd7a1c6c7860ab60fe3">boundaryMesh</a>().<a class="code" href="a01943.html#a6591fbb33e89d53c35c972523ac09e94">findPatchID</a>(samplePatch());</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span> (patchI == -1)</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Cannot find patch &quot;</span> &lt;&lt; samplePatch()</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            &lt;&lt; <span class="stringliteral">&quot; in region &quot;</span> &lt;&lt; sampleRegion_ &lt;&lt; <a class="code" href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">endl</a></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;Valid patches are &quot;</span> &lt;&lt; nbrMesh.<a class="code" href="a01949.html#a6b7f5ba89250dbd7a1c6c7860ab60fe3">boundaryMesh</a>().<a class="code" href="a01943.html#a627bcef4e891104ff8192574b673920b">names</a>()</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            &lt;&lt; <a class="code" href="a10958.html#a06ca7250d8e89caf05243ec094843642">exit</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">return</span> nbrMesh.<a class="code" href="a01949.html#a6b7f5ba89250dbd7a1c6c7860ab60fe3">boundaryMesh</a>()[patchI];</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<a class="code" href="a02691.html">Foam::tmp&lt;Foam::pointField&gt;</a> <a class="code" href="a01445.html#ac4b69f819a1b68317a896f748f87acbb">Foam::mappedPatchBase::samplePoints</a></div><div class="line"><a name="l01265"></a><span class="lineno"><a class="line" href="a01445.html#abe8e77f30a3170cbb9e88a97a0bbaa8b"> 1265</a></span>&#160;(</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00766.html">pointField</a>&amp; fc</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;) <span class="keyword">const</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;{</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="a02691.html">tmp&lt;pointField&gt;</a> tfld(<span class="keyword">new</span> <a class="code" href="a10958.html#a5997a67f2e85a15c0e13a1724273aa5f">pointField</a>(fc));</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="a00766.html">pointField</a>&amp; <a class="code" href="a04373.html#ad4512456f4da706b47fd304150561080">fld</a> = tfld.<a class="code" href="a02691.html#a355da090b61b5b48e7435dec5942b7e9">ref</a>();</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">switch</span> (offsetMode_)</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">case</span> UNIFORM:</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            fld += offset_;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        }</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordflow">case</span> NONUNIFORM:</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        {</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            fld += offsets_;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="keywordflow">case</span> NORMAL:</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        {</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="comment">// Get outwards pointing normal</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            <a class="code" href="a00766.html">vectorField</a> <a class="code" href="a07121.html#a830e93cc5b8d859299d1a788c12be8ac">n</a>(patch_.faceAreas());</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <a class="code" href="a07121.html#a830e93cc5b8d859299d1a788c12be8ac">n</a> /= <a class="code" href="a10958.html#a929da2a3fdcf3dacbbe0487d3a330dae">mag</a>(<a class="code" href="a07121.html#a830e93cc5b8d859299d1a788c12be8ac">n</a>);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            fld += distance_*<a class="code" href="a07121.html#a830e93cc5b8d859299d1a788c12be8ac">n</a>;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        }</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordflow">return</span> tfld;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;}</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"><a class="line" href="a01445.html#ac4b69f819a1b68317a896f748f87acbb"> 1299</a></span>&#160;<a class="code" href="a02691.html">Foam::tmp&lt;Foam::pointField&gt;</a> <a class="code" href="a01445.html#ac4b69f819a1b68317a896f748f87acbb">Foam::mappedPatchBase::samplePoints</a>()<span class="keyword"> const</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">return</span> samplePoints(facePoints(patch_));</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;}</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<a class="code" href="a01917.html">Foam::pointIndexHit</a> <a class="code" href="a01445.html#ae44e759f2387683eacab8a3099f477c7">Foam::mappedPatchBase::facePoint</a></div><div class="line"><a name="l01306"></a><span class="lineno"><a class="line" href="a01445.html#ae44e759f2387683eacab8a3099f477c7"> 1306</a></span>&#160;(</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01949.html">polyMesh</a>&amp; mesh,</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keyword">const</span> <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> faceI,</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879">polyMesh::cellDecomposition</a> decompMode</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;)</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;{</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; fc = mesh.<a class="code" href="a02001.html#a56749206c7d38a4c3cfbf4103547e555">faceCentres</a>()[faceI];</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">switch</span> (decompMode)</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    {</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879ada84759e15d57487cd21743c4df72518">polyMesh::FACE_PLANES</a>:</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879a97cf1884db7c485c5ec25fcbbdce08f9">polyMesh::FACE_CENTRE_TRIS</a>:</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        {</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <span class="comment">// For both decompositions the face centre is guaranteed to be</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            <span class="comment">// on the face</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="a10958.html#a29558ed008131ebedb6c3b965e9f4175">pointIndexHit</a>(<span class="keyword">true</span>, fc, faceI);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        }</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879a55620a37f0e2a85f2df16de195560daa">polyMesh::FACE_DIAG_TRIS</a>:</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879afdffa2bc4102b4445c2251865a5c108a">polyMesh::CELL_TETS</a>:</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <span class="comment">// Find the intersection of a ray from face centre to cell centre</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="comment">// Find intersection of (face-centre-decomposition) centre to</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="comment">// cell-centre with face-diagonal-decomposition triangles.</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            <span class="keyword">const</span> <a class="code" href="a00766.html">pointField</a>&amp; <a class="code" href="a04532.html#a334650304cdcdff41898bee9eaf2e3db">p</a> = mesh.<a class="code" href="a01949.html#a084ae534298576408f063a6b3b820959">points</a>();</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <span class="keyword">const</span> <a class="code" href="a00726.html">face</a>&amp; <a class="code" href="a04020.html#a888be93833ac7a23170555c69c690288">f</a> = mesh.<a class="code" href="a01949.html#a4434536d50d4c14116249da802a1e2b2">faces</a>()[faceI];</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="keywordflow">if</span> (f.<a class="code" href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">size</a>() &lt;= 3)</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                <span class="comment">// Return centre of triangle.</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="a10958.html#a29558ed008131ebedb6c3b965e9f4175">pointIndexHit</a>(<span class="keyword">true</span>, fc, 0);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> cellI = mesh.<a class="code" href="a01949.html#a6d4def83436c9aa4dc68e8e42c5cf268">faceOwner</a>()[faceI];</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; cc = mesh.<a class="code" href="a02001.html#a18743c2f09a076c507cadbb35a86fb24">cellCentres</a>()[cellI];</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <a class="code" href="a02884.html">vector</a> d = fc-cc;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <span class="keyword">const</span> <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> fp0 = mesh.<a class="code" href="a01949.html#af5d47c5deccb842cb4b331facc1aa22a">tetBasePtIs</a>()[faceI];</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; basePoint = p[f[fp0]];</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> fp = f.<a class="code" href="a02828.html#af4d05e19e6cdc80f0c7acd5bbe250f69">fcIndex</a>(fp0);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> i = 2; i &lt; f.size(); i++)</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            {</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; thisPoint = p[f[fp]];</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                <a class="code" href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">label</a> nextFp = f.<a class="code" href="a02828.html#af4d05e19e6cdc80f0c7acd5bbe250f69">fcIndex</a>(fp);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                <span class="keyword">const</span> <a class="code" href="a02884.html">point</a>&amp; nextPoint = p[f[nextFp]];</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                <span class="keyword">const</span> <a class="code" href="a02750.html">triPointRef</a> tri(basePoint, thisPoint, nextPoint);</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;                <a class="code" href="a01915.html">pointHit</a> hitInfo = tri.<a class="code" href="a02750.html#abaab0bde7aa64f05d8755787824985f1">intersection</a></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                (</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                    cc,</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                    d,</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                    <a class="code" href="a01183.html#a8a0fd7a8363e41d8c12a90716f4f500fa14c34f8b46ba6f892e9d5db132667b39">intersection::HALF_RAY</a></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                );</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                <span class="keywordflow">if</span> (hitInfo.<a class="code" href="a01915.html#ad963d38a624b8bf8b37c210109dba03c">hit</a>() &amp;&amp; hitInfo.<a class="code" href="a01915.html#a6fc60097ee4a2ef28aa08c9d11269046">distance</a>() &gt; 0)</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="a10958.html#a29558ed008131ebedb6c3b965e9f4175">pointIndexHit</a>(<span class="keyword">true</span>, hitInfo.<a class="code" href="a01915.html#a0c448cd4b96e9ea9ba38c62c019a8bce">hitPoint</a>(), i-2);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                }</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                fp = nextFp;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            <span class="comment">// Fall-back</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="a10958.html#a29558ed008131ebedb6c3b965e9f4175">pointIndexHit</a>(<span class="keyword">false</span>, fc, -1);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        }</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        {</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <a class="code" href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;problem&quot;</span> &lt;&lt; <a class="code" href="a10958.html#a447107a607d03e417307c203fa5fb44b">abort</a>(<a class="code" href="a10958.html#ac50d206700f3f71855dd30c9a076de43">FatalError</a>);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="a10958.html#a29558ed008131ebedb6c3b965e9f4175">pointIndexHit</a>();</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        }</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    }</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;}</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div><div class="line"><a name="l01386"></a><span class="lineno"><a class="line" href="a01445.html#a0941061ad5a26be83b4107d05750ace6"> 1386</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a01445.html#a0941061ad5a26be83b4107d05750ace6">Foam::mappedPatchBase::write</a>(<a class="code" href="a01769.html">Ostream</a>&amp; os)<span class="keyword"> const</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    os.<a class="code" href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">writeKeyword</a>(<span class="stringliteral">&quot;sampleMode&quot;</span>) &lt;&lt; sampleModeNames_[mode_]</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        &lt;&lt; <a class="code" href="a02693.html#a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38">token::END_STATEMENT</a> &lt;&lt; <a class="code" href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">nl</a>;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">if</span> (!sampleRegion_.empty())</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        os.<a class="code" href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">writeKeyword</a>(<span class="stringliteral">&quot;sampleRegion&quot;</span>) &lt;&lt; sampleRegion_</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            &lt;&lt; <a class="code" href="a02693.html#a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38">token::END_STATEMENT</a> &lt;&lt; <a class="code" href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">nl</a>;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    }</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">if</span> (!samplePatch_.empty())</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    {</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        os.<a class="code" href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">writeKeyword</a>(<span class="stringliteral">&quot;samplePatch&quot;</span>) &lt;&lt; samplePatch_</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            &lt;&lt; <a class="code" href="a02693.html#a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38">token::END_STATEMENT</a> &lt;&lt; <a class="code" href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">nl</a>;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    }</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    coupleGroup_.write(os);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">if</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    (</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        offsetMode_ == UNIFORM</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;     &amp;&amp; offset_ == <a class="code" href="a02886.html#a058151225b5fb26e4a5a4f039b0c1fa1">vector::zero</a></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;     &amp;&amp; (mode_ == NEARESTPATCHFACE || mode_ == NEARESTPATCHFACEAMI)</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    )</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    {</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="comment">// Collocated mode. No need to write offset data</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    }</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    {</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        os.<a class="code" href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">writeKeyword</a>(<span class="stringliteral">&quot;offsetMode&quot;</span>) &lt;&lt; offsetModeNames_[offsetMode_]</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            &lt;&lt; <a class="code" href="a02693.html#a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38">token::END_STATEMENT</a> &lt;&lt; <a class="code" href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">nl</a>;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordflow">switch</span> (offsetMode_)</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        {</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            <span class="keywordflow">case</span> UNIFORM:</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            {</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                os.<a class="code" href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">writeKeyword</a>(<span class="stringliteral">&quot;offset&quot;</span>) &lt;&lt; offset_ &lt;&lt; <a class="code" href="a02693.html#a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38">token::END_STATEMENT</a></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                    &lt;&lt; <a class="code" href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">nl</a>;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;            }</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;            <span class="keywordflow">case</span> NONUNIFORM:</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            {</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                offsets_.writeEntry(<span class="stringliteral">&quot;offsets&quot;</span>, os);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            }</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;            <span class="keywordflow">case</span> NORMAL:</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            {</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                os.<a class="code" href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">writeKeyword</a>(<span class="stringliteral">&quot;distance&quot;</span>) &lt;&lt; distance_ &lt;&lt; <a class="code" href="a02693.html#a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38">token::END_STATEMENT</a></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                    &lt;&lt; <a class="code" href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">nl</a>;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            }</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        }</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordflow">if</span> (mode_ == NEARESTPATCHFACEAMI)</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        {</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            <span class="keywordflow">if</span> (AMIReverse_)</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;            {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                os.<a class="code" href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">writeKeyword</a>(<span class="stringliteral">&quot;flipNormals&quot;</span>) &lt;&lt; AMIReverse_</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                    &lt;&lt; <a class="code" href="a02693.html#a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38">token::END_STATEMENT</a> &lt;&lt; <a class="code" href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">nl</a>;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            <span class="keywordflow">if</span> (!surfDict_.empty())</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            {</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                os.<a class="code" href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">writeKeyword</a>(surfDict_.dictName());</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                os  &lt;&lt; surfDict_;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            }</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        }</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    }</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;}</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="comment">// ************************************************************************* //</span></div><div class="ttc" id="a00727_html_a48ccf896be4178d59a83b240eab39746a3062690f4fcf29edf1908fba7091aaf5"><div class="ttname"><a href="a00727.html#a48ccf896be4178d59a83b240eab39746a3062690f4fcf29edf1908fba7091aaf5">Foam::faceAreaIntersect::tmMesh</a></div><div class="ttdef"><b>Definition:</b> <a href="a07294_source.html#l00063">faceAreaIntersect.H:63</a></div></div>
<div class="ttc" id="a02693_html_aff8351bf74c7880f1403c24dec1f82cd"><div class="ttname"><a href="a02693.html#aff8351bf74c7880f1403c24dec1f82cd">Foam::token::isWord</a></div><div class="ttdeci">bool isWord() const </div><div class="ttdef"><b>Definition:</b> <a href="a07940_source.html#l00213">tokenI.H:213</a></div></div>
<div class="ttc" id="a07662_html"><div class="ttname"><a href="a07662.html">treeDataCell.H</a></div></div>
<div class="ttc" id="a00607_html"><div class="ttname"><a href="a00607.html">Foam::DynamicField</a></div><div class="ttdoc">Dynamically sized Field. </div><div class="ttdef"><b>Definition:</b> <a href="a08048_source.html#l00049">DynamicField.H:49</a></div></div>
<div class="ttc" id="a01445_html_a8fdc6791ed0f6f94533ac247a4d13235"><div class="ttname"><a href="a01445.html#a8fdc6791ed0f6f94533ac247a4d13235">Foam::mappedPatchBase::mappedPatchBase</a></div><div class="ttdeci">mappedPatchBase(const polyPatch &amp;)</div><div class="ttdoc">Construct from patch. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l00932">mappedPatchBase.C:932</a></div></div>
<div class="ttc" id="a01768_html_ab27acd1d200f0d245337451aa2f31517"><div class="ttname"><a href="a01768.html#ab27acd1d200f0d245337451aa2f31517">Foam::OSstream::name</a></div><div class="ttdeci">virtual const fileName &amp; name() const </div><div class="ttdoc">Return the name of the stream. </div><div class="ttdef"><b>Definition:</b> <a href="a07926_source.html#l00088">OSstream.H:88</a></div></div>
<div class="ttc" id="a01196_html_ade8fe914e1b32f96447fe9b2f8bbfc51a49d7e3f5888432d6048abf6cab3988d4"><div class="ttname"><a href="a01196.html#ade8fe914e1b32f96447fe9b2f8bbfc51a49d7e3f5888432d6048abf6cab3988d4">Foam::IOobject::NO_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="a07859_source.html#l00118">IOobject.H:118</a></div></div>
<div class="ttc" id="a01917_html_a06197856d3e9d1625db3f88c38dc522a"><div class="ttname"><a href="a01917.html#a06197856d3e9d1625db3f88c38dc522a">Foam::PointIndexHit::setPoint</a></div><div class="ttdeci">void setPoint(const Point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="a08889_source.html#l00163">PointIndexHit.H:163</a></div></div>
<div class="ttc" id="a01915_html_ad963d38a624b8bf8b37c210109dba03c"><div class="ttname"><a href="a01915.html#ad963d38a624b8bf8b37c210109dba03c">Foam::PointHit::hit</a></div><div class="ttdeci">bool hit() const </div><div class="ttdoc">Is there a hit. </div><div class="ttdef"><b>Definition:</b> <a href="a08886_source.html#l00120">PointHit.H:120</a></div></div>
<div class="ttc" id="a02826_html_a723361dc2020160f5492e8fe2d09fa44"><div class="ttname"><a href="a02826.html#a723361dc2020160f5492e8fe2d09fa44">Foam::UIndirectList::size</a></div><div class="ttdeci">label size() const </div><div class="ttdoc">Return the number of elements in the list. </div><div class="ttdef"><b>Definition:</b> <a href="a07781_source.html#l00043">UIndirectListI.H:43</a></div></div>
<div class="ttc" id="a02828_html"><div class="ttname"><a href="a02828.html">Foam::UList</a></div><div class="ttdoc">A 1D vector of objects of type &lt;T&gt;, where the size of the vector is known and can be used for subscri...</div><div class="ttdef"><b>Definition:</b> <a href="a07690_source.html#l00060">HashTable.H:60</a></div></div>
<div class="ttc" id="a02051_html"><div class="ttname"><a href="a02051.html">Foam::pTraits</a></div><div class="ttdoc">Traits class for primitives. </div><div class="ttdef"><b>Definition:</b> <a href="a09027_source.html#l00050">pTraits.H:50</a></div></div>
<div class="ttc" id="a10958_html_a1bc01f0470f765b8c1e9e7d09b5754bf"><div class="ttname"><a href="a10958.html#a1bc01f0470f765b8c1e9e7d09b5754bf">Foam::Pout</a></div><div class="ttdeci">prefixOSstream Pout(cout,&quot;Pout&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="a07889_source.html#l00053">IOstreams.H:53</a></div></div>
<div class="ttc" id="a00154_html_a1dd50affef9a273ab682ccbf33df7b32"><div class="ttname"><a href="a00154.html#a1dd50affef9a273ab682ccbf33df7b32">Foam::boundBox::min</a></div><div class="ttdeci">const point &amp; min() const </div><div class="ttdoc">Minimum describing the bounding box. </div><div class="ttdef"><b>Definition:</b> <a href="a08577_source.html#l00054">boundBoxI.H:54</a></div></div>
<div class="ttc" id="a04823_html_a4c1de256df6b3d186a85745b3149394a"><div class="ttname"><a href="a04823.html#a4c1de256df6b3d186a85745b3149394a">mesh</a></div><div class="ttdeci">dynamicFvMesh &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="a04823_source.html#l00018">createDynamicFvMesh.H:18</a></div></div>
<div class="ttc" id="a02004_html"><div class="ttname"><a href="a02004.html">Foam::PrimitivePatch</a></div><div class="ttdoc">A list of faces which address into the list of points. </div><div class="ttdef"><b>Definition:</b> <a href="a08863_source.html#l00087">PrimitivePatch.H:87</a></div></div>
<div class="ttc" id="a01597_html"><div class="ttname"><a href="a01597.html">Foam::NamedEnum</a></div><div class="ttdoc">Initialise the NamedEnum HashTable from the static list of names. </div><div class="ttdef"><b>Definition:</b> <a href="a07792_source.html#l00052">NamedEnum.H:52</a></div></div>
<div class="ttc" id="a10958_html_a4225a7492f7d468ad5b985282c8ee7b1"><div class="ttname"><a href="a10958.html#a4225a7492f7d468ad5b985282c8ee7b1">Foam::e</a></div><div class="ttdeci">const double e</div><div class="ttdoc">Elementary charge. </div><div class="ttdef"><b>Definition:</b> <a href="a09049_source.html#l00078">doubleFloat.H:78</a></div></div>
<div class="ttc" id="a01445_html_a7b563fa10a8ec858bfdf2d773ca84e48"><div class="ttname"><a href="a01445.html#a7b563fa10a8ec858bfdf2d773ca84e48">Foam::mappedPatchBase::sampleRegion_</a></div><div class="ttdeci">word sampleRegion_</div><div class="ttdoc">Region to sample. </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00192">mappedPatchBase.H:192</a></div></div>
<div class="ttc" id="a00531_html_ab188313de67c2c7ad4a5e8151eefb49d"><div class="ttname"><a href="a00531.html#ab188313de67c2c7ad4a5e8151eefb49d">Foam::dictionary::lookupOrDefault</a></div><div class="ttdeci">T lookupOrDefault(const word &amp;, const T &amp;, bool recursive=false, bool patternMatch=true) const </div><div class="ttdoc">Find and return a T,. </div><div class="ttdef"><b>Definition:</b> <a href="a07804_source.html#l00033">dictionaryTemplates.C:33</a></div></div>
<div class="ttc" id="a10958_html_ae6fff2c6981e6d9618aa5038e69def6e"><div class="ttname"><a href="a10958.html#ae6fff2c6981e6d9618aa5038e69def6e">Foam::magSqr</a></div><div class="ttdeci">dimensioned&lt; scalar &gt; magSqr(const dimensioned&lt; Type &gt; &amp;)</div></div>
<div class="ttc" id="a07382_html"><div class="ttname"><a href="a07382.html">treeDataPoint.H</a></div></div>
<div class="ttc" id="a00791_html"><div class="ttname"><a href="a00791.html">Foam::fileName</a></div><div class="ttdoc">A class for handling file names. </div><div class="ttdef"><b>Definition:</b> <a href="a09095_source.html#l00069">fileName.H:69</a></div></div>
<div class="ttc" id="a10958_html_a828d57f6d9b9806c086a3f840a147115"><div class="ttname"><a href="a10958.html#a828d57f6d9b9806c086a3f840a147115">Foam::readScalar</a></div><div class="ttdeci">bool readScalar(const char *buf, doubleScalar &amp;s)</div><div class="ttdoc">Read whole of buf as a scalar. Return true if succesful. </div><div class="ttdef"><b>Definition:</b> <a href="a09051_source.html#l00063">doubleScalar.H:63</a></div></div>
<div class="ttc" id="a02102_html"><div class="ttname"><a href="a02102.html">Foam::Random</a></div><div class="ttdoc">Simple random number generator. </div><div class="ttdef"><b>Definition:</b> <a href="a09036_source.html#l00049">Random.H:49</a></div></div>
<div class="ttc" id="a07418_html"><div class="ttname"><a href="a07418.html">meshTools.H</a></div></div>
<div class="ttc" id="a04522_html_a5131998e20f3c5a8bd03cf9b48cc76c7"><div class="ttname"><a href="a04522.html#a5131998e20f3c5a8bd03cf9b48cc76c7">rndGen</a></div><div class="ttdeci">cachedRandom rndGen(label(0),-1)</div></div>
<div class="ttc" id="a00607_html_a13502d5ef5b1f4dd51744972bd50c759"><div class="ttname"><a href="a00607.html#a13502d5ef5b1f4dd51744972bd50c759">Foam::DynamicField::append</a></div><div class="ttdeci">DynamicField&lt; T, SizeInc, SizeMult, SizeDiv &gt; &amp; append(const T &amp;)</div><div class="ttdoc">Append an element at the end of the list. </div><div class="ttdef"><b>Definition:</b> <a href="a08049_source.html#l00321">DynamicFieldI.H:321</a></div></div>
<div class="ttc" id="a01445_html_ab7b4650b8711fa137bf68098045938d6"><div class="ttname"><a href="a01445.html#ab7b4650b8711fa137bf68098045938d6">Foam::mappedPatchBase::offsetModeNames_</a></div><div class="ttdeci">static const NamedEnum&lt; offsetMode, 3 &gt; offsetModeNames_</div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00131">mappedPatchBase.H:131</a></div></div>
<div class="ttc" id="a10958_html"><div class="ttname"><a href="a10958.html">Foam</a></div><div class="ttdoc">Namespace for OpenFOAM. </div><div class="ttdef"><b>Definition:</b> <a href="a04722_source.html#l00030">combustionModel.C:30</a></div></div>
<div class="ttc" id="a01736_html"><div class="ttname"><a href="a01736.html">Foam::OFstream</a></div><div class="ttdoc">Output to file stream. </div><div class="ttdef"><b>Definition:</b> <a href="a07885_source.html#l00081">OFstream.H:81</a></div></div>
<div class="ttc" id="a10958_html_a36af96cb841435845fffb4fe69208490"><div class="ttname"><a href="a10958.html#a36af96cb841435845fffb4fe69208490">Foam::identity</a></div><div class="ttdeci">labelList identity(const label len)</div><div class="ttdoc">Create identity map (map[i] == i) of given length. </div><div class="ttdef"><b>Definition:</b> <a href="a07759_source.html#l00104">ListOps.C:104</a></div></div>
<div class="ttc" id="a01915_html_a0c448cd4b96e9ea9ba38c62c019a8bce"><div class="ttname"><a href="a01915.html#a0c448cd4b96e9ea9ba38c62c019a8bce">Foam::PointHit::hitPoint</a></div><div class="ttdeci">const Point &amp; hitPoint() const </div><div class="ttdoc">Return hit point. </div><div class="ttdef"><b>Definition:</b> <a href="a08886_source.html#l00126">PointHit.H:126</a></div></div>
<div class="ttc" id="a02049_html_afbdf64fb42cd760690d51a9a321792d9"><div class="ttname"><a href="a02049.html#afbdf64fb42cd760690d51a9a321792d9">Foam::Pstream::gatherList</a></div><div class="ttdeci">static void gatherList(const List&lt; commsStruct &gt; &amp;comms, List&lt; T &gt; &amp;Values, const int tag, const label comm)</div><div class="ttdoc">Gather data but keep individual values separate. </div><div class="ttdef"><b>Definition:</b> <a href="a07902_source.html#l00049">gatherScatterList.C:49</a></div></div>
<div class="ttc" id="a02049_html_a8c0e5044dc4a942cf62b06797c3a743f"><div class="ttname"><a href="a02049.html#a8c0e5044dc4a942cf62b06797c3a743f">Foam::Pstream::listCombineGather</a></div><div class="ttdeci">static void listCombineGather(const List&lt; commsStruct &gt; &amp;comms, List&lt; T &gt; &amp;Value, const CombineOp &amp;cop, const int tag, const label comm)</div><div class="ttdef"><b>Definition:</b> <a href="a07899_source.html#l00273">combineGatherScatter.C:273</a></div></div>
<div class="ttc" id="a02766_html_a6bc9dc0330d36f5f75e816ddc4ec213e"><div class="ttname"><a href="a02766.html#a6bc9dc0330d36f5f75e816ddc4ec213e">Foam::Tuple2::first</a></div><div class="ttdeci">const Type1 &amp; first() const </div><div class="ttdoc">Return first. </div><div class="ttdef"><b>Definition:</b> <a href="a09166_source.html#l00094">Tuple2.H:94</a></div></div>
<div class="ttc" id="a02682_html_a5aa65a27a46ca75d80f0821d80606c04"><div class="ttname"><a href="a02682.html#a5aa65a27a46ca75d80f0821d80606c04">Foam::TimePaths::constant</a></div><div class="ttdeci">const word &amp; constant() const </div><div class="ttdoc">Return constant name. </div><div class="ttdef"><b>Definition:</b> <a href="a07968_source.html#l00124">TimePaths.H:124</a></div></div>
<div class="ttc" id="a10958_html_a2db8fe02a0d3909e9351bb4275b23ce4"><div class="ttname"><a href="a10958.html#a2db8fe02a0d3909e9351bb4275b23ce4">Foam::endl</a></div><div class="ttdeci">Ostream &amp; endl(Ostream &amp;os)</div><div class="ttdoc">Add newline and flush stream. </div><div class="ttdef"><b>Definition:</b> <a href="a07898_source.html#l00253">Ostream.H:253</a></div></div>
<div class="ttc" id="a01949_html_a7ec8de2b3ebafbb5aecf9316146722bf"><div class="ttname"><a href="a01949.html#a7ec8de2b3ebafbb5aecf9316146722bf">Foam::polyMesh::cellTree</a></div><div class="ttdeci">const indexedOctree&lt; treeDataCell &gt; &amp; cellTree() const </div><div class="ttdoc">Return the cell search tree. </div><div class="ttdef"><b>Definition:</b> <a href="a08750_source.html#l00843">polyMesh.C:843</a></div></div>
<div class="ttc" id="a01949_html_a3c42fb8dbb745999eb5cfb7c97936879a55620a37f0e2a85f2df16de195560daa"><div class="ttname"><a href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879a55620a37f0e2a85f2df16de195560daa">Foam::polyMesh::FACE_DIAG_TRIS</a></div><div class="ttdef"><b>Definition:</b> <a href="a08751_source.html#l00105">polyMesh.H:105</a></div></div>
<div class="ttc" id="a02750_html_abaab0bde7aa64f05d8755787824985f1"><div class="ttname"><a href="a02750.html#abaab0bde7aa64f05d8755787824985f1">Foam::triangle::intersection</a></div><div class="ttdeci">pointHit intersection(const point &amp;p, const vector &amp;q, const intersection::algorithm alg, const scalar tol=0.0) const </div><div class="ttdoc">Fast intersection with a ray. </div><div class="ttdef"><b>Definition:</b> <a href="a08910_source.html#l00425">triangleI.H:425</a></div></div>
<div class="ttc" id="a01967_html_a861f370e41af7d54d7ff91da65de6e6a"><div class="ttname"><a href="a01967.html#a861f370e41af7d54d7ff91da65de6e6a">Foam::polyPatch::start</a></div><div class="ttdeci">label start() const </div><div class="ttdoc">Return start label of this patch in the polyMesh face list. </div><div class="ttdef"><b>Definition:</b> <a href="a08792_source.html#l00300">polyPatch.H:300</a></div></div>
<div class="ttc" id="a01949_html_a6d4def83436c9aa4dc68e8e42c5cf268"><div class="ttname"><a href="a01949.html#a6d4def83436c9aa4dc68e8e42c5cf268">Foam::polyMesh::faceOwner</a></div><div class="ttdeci">virtual const labelList &amp; faceOwner() const </div><div class="ttdoc">Return face owner. </div><div class="ttdef"><b>Definition:</b> <a href="a08750_source.html#l01017">polyMesh.C:1017</a></div></div>
<div class="ttc" id="a01068_html"><div class="ttname"><a href="a01068.html">Foam::indexedOctree&lt; Foam::treeDataCell &gt;</a></div></div>
<div class="ttc" id="a10958_html_ab45e56189711a2e5cdd381a0e2b6cc5c"><div class="ttname"><a href="a10958.html#ab45e56189711a2e5cdd381a0e2b6cc5c">Foam::gAverage</a></div><div class="ttdeci">Type gAverage(const FieldField&lt; Field, Type &gt; &amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="a08019_source.html#l00566">FieldFieldFunctions.C:566</a></div></div>
<div class="ttc" id="a01427_html"><div class="ttname"><a href="a01427.html">Foam::mapDistribute</a></div><div class="ttdoc">Class containing processor-to-processor mapping information. </div><div class="ttdef"><b>Definition:</b> <a href="a08733_source.html#l00152">mapDistribute.H:152</a></div></div>
<div class="ttc" id="a01597_html_a9098a02b904581f69e4d0344ccd36c40"><div class="ttname"><a href="a01597.html#a9098a02b904581f69e4d0344ccd36c40">Foam::NamedEnum::words</a></div><div class="ttdeci">static wordList words()</div><div class="ttdoc">The set of names as a list of words. </div><div class="ttdef"><b>Definition:</b> <a href="a07791_source.html#l00105">NamedEnum.C:105</a></div></div>
<div class="ttc" id="a01445_html_a2c8b92679473c545e0986cc19bfeb0de"><div class="ttname"><a href="a01445.html#a2c8b92679473c545e0986cc19bfeb0de">Foam::mappedPatchBase::offsets_</a></div><div class="ttdeci">vectorField offsets_</div><div class="ttdoc">Offset vector (nonuniform) </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00210">mappedPatchBase.H:210</a></div></div>
<div class="ttc" id="a02693_html"><div class="ttname"><a href="a02693.html">Foam::token</a></div><div class="ttdoc">A token holds items read from Istream. </div><div class="ttdef"><b>Definition:</b> <a href="a07939_source.html#l00067">token.H:67</a></div></div>
<div class="ttc" id="a07784_html_a1a02bffef961ee015f0e9b03d336c6a9"><div class="ttname"><a href="a07784.html#a1a02bffef961ee015f0e9b03d336c6a9">forAll</a></div><div class="ttdeci">#define forAll(list, i)</div><div class="ttdoc">Loop across all elements in list. </div><div class="ttdef"><b>Definition:</b> <a href="a07784_source.html#l00428">UList.H:428</a></div></div>
<div class="ttc" id="a10958_html_a22f45a3cb4f074e609f58ebaeef0ecf9"><div class="ttname"><a href="a10958.html#a22f45a3cb4f074e609f58ebaeef0ecf9">Foam::label</a></div><div class="ttdeci">intWM_LABEL_SIZE_t label</div><div class="ttdoc">A label is an int32_t or int64_t as specified by the pre-processor macro WM_LABEL_SIZE. </div><div class="ttdef"><b>Definition:</b> <a href="a08998_source.html#l00059">label.H:59</a></div></div>
<div class="ttc" id="a00531_html_a9162446f5a508ee28a210d2bc19d2d1a"><div class="ttname"><a href="a00531.html#a9162446f5a508ee28a210d2bc19d2d1a">Foam::dictionary::subOrEmptyDict</a></div><div class="ttdeci">dictionary subOrEmptyDict(const word &amp;, const bool mustRead=false) const </div><div class="ttdoc">Find and return a sub-dictionary as a copy, or. </div><div class="ttdef"><b>Definition:</b> <a href="a07798_source.html#l00668">dictionary.C:668</a></div></div>
<div class="ttc" id="a02691_html"><div class="ttname"><a href="a02691.html">Foam::tmp</a></div><div class="ttdoc">A class for managing temporary objects. </div><div class="ttdef"><b>Definition:</b> <a href="a07770_source.html#l00118">PtrList.H:118</a></div></div>
<div class="ttc" id="a01445_html_a0fb543c54481dfa3023f24285cd25e87"><div class="ttname"><a href="a01445.html#a0fb543c54481dfa3023f24285cd25e87">Foam::mappedPatchBase::facePoints</a></div><div class="ttdeci">tmp&lt; pointField &gt; facePoints(const polyPatch &amp;) const </div><div class="ttdoc">Get the points from face-centre-decomposition face centres. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l00091">mappedPatchBase.C:91</a></div></div>
<div class="ttc" id="a01915_html"><div class="ttname"><a href="a01915.html">Foam::PointHit&lt; point &gt;</a></div></div>
<div class="ttc" id="a02859_html_afc74d89573de32a3032c916f8cdd1733"><div class="ttname"><a href="a02859.html#afc74d89573de32a3032c916f8cdd1733">Foam::UPstream::myProcNo</a></div><div class="ttdeci">static int myProcNo(const label communicator=0)</div><div class="ttdoc">Number of this process (starting from masterNo() = 0) </div><div class="ttdef"><b>Definition:</b> <a href="a07920_source.html#l00417">UPstream.H:417</a></div></div>
<div class="ttc" id="a10958_html_a06ca7250d8e89caf05243ec094843642"><div class="ttname"><a href="a10958.html#a06ca7250d8e89caf05243ec094843642">Foam::exit</a></div><div class="ttdeci">errorManipArg&lt; error, int &gt; exit(error &amp;err, const int errNo=1)</div><div class="ttdef"><b>Definition:</b> <a href="a07839_source.html#l00124">errorManip.H:124</a></div></div>
<div class="ttc" id="a01445_html_a11c859a41686921caa7b61c787a8da1f"><div class="ttname"><a href="a01445.html#a11c859a41686921caa7b61c787a8da1f">Foam::mappedPatchBase::distance_</a></div><div class="ttdeci">scalar distance_</div><div class="ttdoc">Offset distance (normal) </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00213">mappedPatchBase.H:213</a></div></div>
<div class="ttc" id="a01445_html_a3434acc5afba1f7b7b8f4c573befd8b3"><div class="ttname"><a href="a01445.html#a3434acc5afba1f7b7b8f4c573befd8b3">Foam::mappedPatchBase::samplePolyPatch</a></div><div class="ttdeci">const polyPatch &amp; samplePolyPatch() const </div><div class="ttdoc">Get the patch on the region. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l01245">mappedPatchBase.C:1245</a></div></div>
<div class="ttc" id="a02742_html"><div class="ttname"><a href="a02742.html">Foam::treeBoundBox</a></div><div class="ttdoc">Standard boundBox + extra functionality for use in octree. </div><div class="ttdef"><b>Definition:</b> <a href="a08917_source.html#l00075">treeBoundBox.H:75</a></div></div>
<div class="ttc" id="a01501_html"><div class="ttname"><a href="a01501.html">Foam::meshSearchMeshObject</a></div><div class="ttdoc">MeshObject wrapper around meshSearch(mesh). </div><div class="ttdef"><b>Definition:</b> <a href="a07407_source.html#l00048">meshSearchMeshObject.H:48</a></div></div>
<div class="ttc" id="a07758_html"><div class="ttname"><a href="a07758.html">ListListOps.H</a></div></div>
<div class="ttc" id="a11013_html_afd76c6ccc8ee4a5957f0232218167c17"><div class="ttname"><a href="a11013.html#afd76c6ccc8ee4a5957f0232218167c17">Foam::meshTools::writeOBJ</a></div><div class="ttdeci">void writeOBJ(Ostream &amp;os, const point &amp;pt)</div><div class="ttdoc">Write obj representation of point. </div><div class="ttdef"><b>Definition:</b> <a href="a07417_source.html#l00203">meshTools.C:203</a></div></div>
<div class="ttc" id="a07658_html"><div class="ttname"><a href="a07658.html">indexedOctree.H</a></div></div>
<div class="ttc" id="a01445_html_ae661cd89c412ddb26b62a475ac2939b2"><div class="ttname"><a href="a01445.html#ae661cd89c412ddb26b62a475ac2939b2">Foam::mappedPatchBase::offsetMode_</a></div><div class="ttdeci">offsetMode offsetMode_</div><div class="ttdoc">How to obtain samples. </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00204">mappedPatchBase.H:204</a></div></div>
<div class="ttc" id="a01949_html_a084ae534298576408f063a6b3b820959"><div class="ttname"><a href="a01949.html#a084ae534298576408f063a6b3b820959">Foam::polyMesh::points</a></div><div class="ttdeci">virtual const pointField &amp; points() const </div><div class="ttdoc">Return raw points. </div><div class="ttdef"><b>Definition:</b> <a href="a08750_source.html#l00979">polyMesh.C:979</a></div></div>
<div class="ttc" id="a01917_html_a0c448cd4b96e9ea9ba38c62c019a8bce"><div class="ttname"><a href="a01917.html#a0c448cd4b96e9ea9ba38c62c019a8bce">Foam::PointIndexHit::hitPoint</a></div><div class="ttdeci">const Point &amp; hitPoint() const </div><div class="ttdoc">Return hit point. </div><div class="ttdef"><b>Definition:</b> <a href="a08889_source.html#l00117">PointIndexHit.H:117</a></div></div>
<div class="ttc" id="a02001_html_a18743c2f09a076c507cadbb35a86fb24"><div class="ttname"><a href="a02001.html#a18743c2f09a076c507cadbb35a86fb24">Foam::primitiveMesh::cellCentres</a></div><div class="ttdeci">const vectorField &amp; cellCentres() const </div><div class="ttdef"><b>Definition:</b> <a href="a08838_source.html#l00160">primitiveMeshCellCentresAndVols.C:160</a></div></div>
<div class="ttc" id="a01499_html_a7423e4df07642bb26d9254d20d81514d"><div class="ttname"><a href="a01499.html#a7423e4df07642bb26d9254d20d81514d">Foam::meshSearch::findNearestFace</a></div><div class="ttdeci">label findNearestFace(const point &amp;location, const label seedFaceI=-1, const bool useTreeSearch=true) const </div><div class="ttdef"><b>Definition:</b> <a href="a07402_source.html#l00755">meshSearch.C:755</a></div></div>
<div class="ttc" id="a01387_html_a8a5f6fa29bd4b500caf186f60245b384"><div class="ttname"><a href="a01387.html#a8a5f6fa29bd4b500caf186f60245b384">Foam::List::size</a></div><div class="ttdeci">void size(const label)</div><div class="ttdoc">Override size to be inconsistent with allocated storage. </div><div class="ttdef"><b>Definition:</b> <a href="a07754_source.html#l00076">ListI.H:76</a></div></div>
<div class="ttc" id="a02535_html"><div class="ttname"><a href="a02535.html">Foam::SubList</a></div><div class="ttdoc">A List obtained as a section of another List. </div><div class="ttdef"><b>Definition:</b> <a href="a07778_source.html#l00053">SubList.H:53</a></div></div>
<div class="ttc" id="a02004_html_a180aa335ba66b3224df33de8eb29b3bf"><div class="ttname"><a href="a02004.html#a180aa335ba66b3224df33de8eb29b3bf">Foam::PrimitivePatch::localPoints</a></div><div class="ttdeci">const Field&lt; PointType &gt; &amp; localPoints() const </div><div class="ttdoc">Return pointField of points in patch. </div><div class="ttdef"><b>Definition:</b> <a href="a08861_source.html#l00448">PrimitivePatch.C:448</a></div></div>
<div class="ttc" id="a01445_html_ac6a17df158bf5b8c3e4768da0f40139b"><div class="ttname"><a href="a01445.html#ac6a17df158bf5b8c3e4768da0f40139b">Foam::mappedPatchBase::~mappedPatchBase</a></div><div class="ttdeci">virtual ~mappedPatchBase()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l01220">mappedPatchBase.C:1220</a></div></div>
<div class="ttc" id="a04522_html_a14d38e99c2caf50fd9f0aa0d5ef88e3b"><div class="ttname"><a href="a04522.html#a14d38e99c2caf50fd9f0aa0d5ef88e3b">samples</a></div><div class="ttdeci">scalarField samples(nIntervals, 0)</div></div>
<div class="ttc" id="a02004_html_a1f42f31bcf706357682dcf097255b544"><div class="ttname"><a href="a02004.html#a1f42f31bcf706357682dcf097255b544">Foam::PrimitivePatch::points</a></div><div class="ttdeci">const Field&lt; PointType &gt; &amp; points() const </div><div class="ttdoc">Return reference to global points. </div><div class="ttdef"><b>Definition:</b> <a href="a08863_source.html#l00284">PrimitivePatch.H:284</a></div></div>
<div class="ttc" id="a01445_html_ae63db729f395292e928ec6142cf12685"><div class="ttname"><a href="a01445.html#ae63db729f395292e928ec6142cf12685">Foam::mappedPatchBase::offset_</a></div><div class="ttdeci">vector offset_</div><div class="ttdoc">Offset vector (uniform) </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00207">mappedPatchBase.H:207</a></div></div>
<div class="ttc" id="a00580_html_a723361dc2020160f5492e8fe2d09fa44"><div class="ttname"><a href="a00580.html#a723361dc2020160f5492e8fe2d09fa44">Foam::DLListBase::size</a></div><div class="ttdeci">label size() const </div><div class="ttdoc">Return number of elements in list. </div><div class="ttdef"><b>Definition:</b> <a href="a07717_source.html#l00077">DLListBaseI.H:77</a></div></div>
<div class="ttc" id="a01722_html_affcae20935bdf1726ec1f822228a2330"><div class="ttname"><a href="a01722.html#affcae20935bdf1726ec1f822228a2330">Foam::objectRegistry::lookupObject</a></div><div class="ttdeci">const Type &amp; lookupObject(const word &amp;name) const </div><div class="ttdoc">Lookup and return the object of the given Type. </div><div class="ttdef"><b>Definition:</b> <a href="a07947_source.html#l00165">objectRegistryTemplates.C:165</a></div></div>
<div class="ttc" id="a02750_html"><div class="ttname"><a href="a02750.html">Foam::triangle</a></div><div class="ttdoc">A triangle primitive used to calculate face normals and swept volumes. </div><div class="ttdef"><b>Definition:</b> <a href="a08909_source.html#l00057">triangle.H:57</a></div></div>
<div class="ttc" id="a01196_html"><div class="ttname"><a href="a01196.html">Foam::IOobject</a></div><div class="ttdoc">IOobject defines the attributes of an object for which implicit objectRegistry management is supporte...</div><div class="ttdef"><b>Definition:</b> <a href="a07859_source.html#l00091">IOobject.H:91</a></div></div>
<div class="ttc" id="a01445_html_add4f5204e386a3b34748b7fbdf7bd8b2"><div class="ttname"><a href="a01445.html#add4f5204e386a3b34748b7fbdf7bd8b2">Foam::mappedPatchBase::surfPtr</a></div><div class="ttdeci">const autoPtr&lt; Foam::searchableSurface &gt; &amp; surfPtr() const </div><div class="ttdoc">Return a pointer to the AMI projection surface. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l00772">mappedPatchBase.C:772</a></div></div>
<div class="ttc" id="a01949_html_a4434536d50d4c14116249da802a1e2b2"><div class="ttname"><a href="a01949.html#a4434536d50d4c14116249da802a1e2b2">Foam::polyMesh::faces</a></div><div class="ttdeci">virtual const faceList &amp; faces() const </div><div class="ttdoc">Return raw faces. </div><div class="ttdef"><b>Definition:</b> <a href="a08750_source.html#l01004">polyMesh.C:1004</a></div></div>
<div class="ttc" id="a01445_html_a991cd11b9388dc3e39fadfea6936d27b"><div class="ttname"><a href="a01445.html#a991cd11b9388dc3e39fadfea6936d27b">Foam::mappedPatchBase::collectSamples</a></div><div class="ttdeci">void collectSamples(const pointField &amp;facePoints, pointField &amp;, labelList &amp;patchFaceProcs, labelList &amp;patchFaces, pointField &amp;patchFc) const </div><div class="ttdoc">Collect single list of samples and originating processor+face. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l00119">mappedPatchBase.C:119</a></div></div>
<div class="ttc" id="a07121_html_a830e93cc5b8d859299d1a788c12be8ac"><div class="ttname"><a href="a07121.html#a830e93cc5b8d859299d1a788c12be8ac">n</a></div><div class="ttdeci">label n</div><div class="ttdef"><b>Definition:</b> <a href="a07121_source.html#l00031">TABSMDCalcMethod2.H:31</a></div></div>
<div class="ttc" id="a01967_html"><div class="ttname"><a href="a01967.html">Foam::polyPatch</a></div><div class="ttdoc">A patch is a list of labels that address the faces in the global face list. </div><div class="ttdef"><b>Definition:</b> <a href="a08792_source.html#l00066">polyPatch.H:66</a></div></div>
<div class="ttc" id="a01445_html_a79f62c662bf1b20726f904c033aca91a"><div class="ttname"><a href="a01445.html#a79f62c662bf1b20726f904c033aca91a">Foam::mappedPatchBase::sameRegion_</a></div><div class="ttdeci">bool sameRegion_</div><div class="ttdoc">Same region. </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00216">mappedPatchBase.H:216</a></div></div>
<div class="ttc" id="a00726_html"><div class="ttname"><a href="a00726.html">Foam::face</a></div><div class="ttdoc">A face is a list of labels corresponding to mesh vertices. </div><div class="ttdef"><b>Definition:</b> <a href="a08648_source.html#l00075">face.H:75</a></div></div>
<div class="ttc" id="a10958_html_a643590f4015338d12714af03d61a0ac9"><div class="ttname"><a href="a10958.html#a643590f4015338d12714af03d61a0ac9">Foam::point</a></div><div class="ttdeci">vector point</div><div class="ttdoc">Point is a vector. </div><div class="ttdef"><b>Definition:</b> <a href="a08894_source.html#l00041">point.H:41</a></div></div>
<div class="ttc" id="a02884_html"><div class="ttname"><a href="a02884.html">Foam::Vector&lt; scalar &gt;</a></div></div>
<div class="ttc" id="a00614_html"><div class="ttname"><a href="a00614.html">Foam::DynamicList&lt; label &gt;</a></div></div>
<div class="ttc" id="a01769_html_a3c58b2bb9174ea3c4a5fa58095d1290e"><div class="ttname"><a href="a01769.html#a3c58b2bb9174ea3c4a5fa58095d1290e">Foam::Ostream::writeKeyword</a></div><div class="ttdeci">Ostream &amp; writeKeyword(const keyType &amp;)</div><div class="ttdoc">Write the keyword followed by an appropriate indentation. </div><div class="ttdef"><b>Definition:</b> <a href="a07897_source.html#l00054">Ostream.C:54</a></div></div>
<div class="ttc" id="a01445_html_ab5e64ae976c301737f883167857ec318"><div class="ttname"><a href="a01445.html#ab5e64ae976c301737f883167857ec318">Foam::mappedPatchBase::readListOrField</a></div><div class="ttdeci">static tmp&lt; pointField &gt; readListOrField(const word &amp;keyword, const dictionary &amp;dict, const label size)</div><div class="ttdoc">Helper to read field or non-uniform list from dictionary. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l00863">mappedPatchBase.C:863</a></div></div>
<div class="ttc" id="a01445_html_a4f77ac596eed0b04cf43d9180dbb88aa"><div class="ttname"><a href="a01445.html#a4f77ac596eed0b04cf43d9180dbb88aa">Foam::mappedPatchBase::AMIReverse_</a></div><div class="ttdeci">const bool AMIReverse_</div><div class="ttdoc">Flag to indicate that slave patch should be reversed for AMI. </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00235">mappedPatchBase.H:235</a></div></div>
<div class="ttc" id="a01202_html_ab27acd1d200f0d245337451aa2f31517"><div class="ttname"><a href="a01202.html#ab27acd1d200f0d245337451aa2f31517">Foam::IOstream::name</a></div><div class="ttdeci">virtual const fileName &amp; name() const </div><div class="ttdoc">Return the name of the stream. </div><div class="ttdef"><b>Definition:</b> <a href="a07894_source.html#l00297">IOstream.H:297</a></div></div>
<div class="ttc" id="a01445_html_a80e7d2240854cf86b347a95cb1bab341"><div class="ttname"><a href="a01445.html#a80e7d2240854cf86b347a95cb1bab341">Foam::mappedPatchBase::sampleMesh</a></div><div class="ttdeci">const polyMesh &amp; sampleMesh() const </div><div class="ttdoc">Get the region mesh. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l01236">mappedPatchBase.C:1236</a></div></div>
<div class="ttc" id="a01949_html_a6b7f5ba89250dbd7a1c6c7860ab60fe3"><div class="ttname"><a href="a01949.html#a6b7f5ba89250dbd7a1c6c7860ab60fe3">Foam::polyMesh::boundaryMesh</a></div><div class="ttdeci">const polyBoundaryMesh &amp; boundaryMesh() const </div><div class="ttdoc">Return boundary mesh. </div><div class="ttdef"><b>Definition:</b> <a href="a08751_source.html#l00421">polyMesh.H:421</a></div></div>
<div class="ttc" id="a10958_html_a7ffd6af4acc2eb9ba72ee296b5ecda23"><div class="ttname"><a href="a10958.html#a7ffd6af4acc2eb9ba72ee296b5ecda23">Foam::reduce</a></div><div class="ttdeci">void reduce(const List&lt; UPstream::commsStruct &gt; &amp;comms, T &amp;Value, const BinaryOp &amp;bop, const int tag, const label comm)</div><div class="ttdef"><b>Definition:</b> <a href="a07912_source.html#l00049">PstreamReduceOps.H:49</a></div></div>
<div class="ttc" id="a01387_html"><div class="ttname"><a href="a01387.html">Foam::List&lt; label &gt;</a></div></div>
<div class="ttc" id="a08911_html"><div class="ttname"><a href="a08911.html">triPointRef.H</a></div></div>
<div class="ttc" id="a07842_html_a4a312cae6a2c26e49e755db40d3690eb"><div class="ttname"><a href="a07842.html#a4a312cae6a2c26e49e755db40d3690eb">IOWarningInFunction</a></div><div class="ttdeci">#define IOWarningInFunction(ios)</div><div class="ttdoc">Report an IO warning using Foam::Warning. </div><div class="ttdef"><b>Definition:</b> <a href="a07842_source.html#l00271">messageStream.H:271</a></div></div>
<div class="ttc" id="a04020_html_a888be93833ac7a23170555c69c690288"><div class="ttname"><a href="a04020.html#a888be93833ac7a23170555c69c690288">f</a></div><div class="ttdeci">labelList f(nPoints)</div></div>
<div class="ttc" id="a01196_html_a20b9ac27bfc4eb7f88f7ae5771de6bf0a9e7b8f2e0979fecd1bbc84564f3d3891"><div class="ttname"><a href="a01196.html#a20b9ac27bfc4eb7f88f7ae5771de6bf0a9e7b8f2e0979fecd1bbc84564f3d3891">Foam::IOobject::MUST_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="a07859_source.html#l00108">IOobject.H:108</a></div></div>
<div class="ttc" id="a01943_html_a6591fbb33e89d53c35c972523ac09e94"><div class="ttname"><a href="a01943.html#a6591fbb33e89d53c35c972523ac09e94">Foam::polyBoundaryMesh::findPatchID</a></div><div class="ttdeci">label findPatchID(const word &amp;patchName) const </div><div class="ttdoc">Find patch index given a name. </div><div class="ttdef"><b>Definition:</b> <a href="a08745_source.html#l00678">polyBoundaryMesh.C:678</a></div></div>
<div class="ttc" id="a01722_html_a48fcf6de2789aff6b430b5fc1a05693f"><div class="ttname"><a href="a01722.html#a48fcf6de2789aff6b430b5fc1a05693f">Foam::objectRegistry::time</a></div><div class="ttdeci">const Time &amp; time() const </div><div class="ttdoc">Return time. </div><div class="ttdef"><b>Definition:</b> <a href="a07946_source.html#l00117">objectRegistry.H:117</a></div></div>
<div class="ttc" id="a02004_html_ae4935f85c38392518565dd7c666e3caf"><div class="ttname"><a href="a02004.html#ae4935f85c38392518565dd7c666e3caf">Foam::PrimitivePatch::meshPoints</a></div><div class="ttdeci">const labelList &amp; meshPoints() const </div><div class="ttdoc">Return labelList of mesh points in patch. They are constructed. </div><div class="ttdef"><b>Definition:</b> <a href="a08861_source.html#l00408">PrimitivePatch.C:408</a></div></div>
<div class="ttc" id="a02691_html_a355da090b61b5b48e7435dec5942b7e9"><div class="ttname"><a href="a02691.html#a355da090b61b5b48e7435dec5942b7e9">Foam::tmp::ref</a></div><div class="ttdeci">T &amp; ref()</div><div class="ttdoc">Return non-const reference or generate a fatal error. </div><div class="ttdef"><b>Definition:</b> <a href="a08568_source.html#l00161">tmpI.H:161</a></div></div>
<div class="ttc" id="a07838_html_ace9d7789841cd28051f24d4eea0688f9"><div class="ttname"><a href="a07838.html#ace9d7789841cd28051f24d4eea0688f9">FatalIOErrorInFunction</a></div><div class="ttdeci">#define FatalIOErrorInFunction(ios)</div><div class="ttdoc">Report an error message using Foam::FatalIOError. </div><div class="ttdef"><b>Definition:</b> <a href="a07838_source.html#l00331">error.H:331</a></div></div>
<div class="ttc" id="a01917_html_ad963d38a624b8bf8b37c210109dba03c"><div class="ttname"><a href="a01917.html#ad963d38a624b8bf8b37c210109dba03c">Foam::PointIndexHit::hit</a></div><div class="ttdeci">bool hit() const </div><div class="ttdoc">Is there a hit. </div><div class="ttdef"><b>Definition:</b> <a href="a08889_source.html#l00105">PointIndexHit.H:105</a></div></div>
<div class="ttc" id="a02001_html_a56749206c7d38a4c3cfbf4103547e555"><div class="ttname"><a href="a02001.html#a56749206c7d38a4c3cfbf4103547e555">Foam::primitiveMesh::faceCentres</a></div><div class="ttdeci">const vectorField &amp; faceCentres() const </div><div class="ttdef"><b>Definition:</b> <a href="a08851_source.html#l00140">primitiveMeshFaceCentresAndAreas.C:140</a></div></div>
<div class="ttc" id="a01216_html_af22e503b062298eef54e360dfc06d0b4"><div class="ttname"><a href="a01216.html#af22e503b062298eef54e360dfc06d0b4">Foam::Istream::putBack</a></div><div class="ttdeci">void putBack(const token &amp;)</div><div class="ttdoc">Put back token. </div><div class="ttdef"><b>Definition:</b> <a href="a07895_source.html#l00030">Istream.C:30</a></div></div>
<div class="ttc" id="a10958_html_aa6a94734c26b4f5d0008931862eddcd8"><div class="ttname"><a href="a10958.html#aa6a94734c26b4f5d0008931862eddcd8">Foam::vectorField</a></div><div class="ttdeci">Field&lt; vector &gt; vectorField</div><div class="ttdoc">Specialisation of Field&lt;T&gt; for vector. </div><div class="ttdef"><b>Definition:</b> <a href="a08073_source.html#l00049">primitiveFieldsFwd.H:49</a></div></div>
<div class="ttc" id="a01949_html_a3c42fb8dbb745999eb5cfb7c97936879a97cf1884db7c485c5ec25fcbbdce08f9"><div class="ttname"><a href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879a97cf1884db7c485c5ec25fcbbdce08f9">Foam::polyMesh::FACE_CENTRE_TRIS</a></div><div class="ttdef"><b>Definition:</b> <a href="a08751_source.html#l00102">polyMesh.H:102</a></div></div>
<div class="ttc" id="a08733_html"><div class="ttname"><a href="a08733.html">mapDistribute.H</a></div></div>
<div class="ttc" id="a02693_html_ae0dabc7a27eb1575aebeb73cfb54832f"><div class="ttname"><a href="a02693.html#ae0dabc7a27eb1575aebeb73cfb54832f">Foam::token::wordToken</a></div><div class="ttdeci">const word &amp; wordToken() const </div><div class="ttdef"><b>Definition:</b> <a href="a07940_source.html#l00218">tokenI.H:218</a></div></div>
<div class="ttc" id="a01445_html_a87890ae288d12853bba8f813b211c4c2"><div class="ttname"><a href="a01445.html#a87890ae288d12853bba8f813b211c4c2">Foam::mappedPatchBase::samplePatch_</a></div><div class="ttdeci">word samplePatch_</div><div class="ttdoc">Patch (if in sampleMode NEARESTPATCH*) </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00198">mappedPatchBase.H:198</a></div></div>
<div class="ttc" id="a08060_html"><div class="ttname"><a href="a08060.html">SubField.H</a></div></div>
<div class="ttc" id="a02538_html"><div class="ttname"><a href="a02538.html">Foam::sumOp</a></div><div class="ttdef"><b>Definition:</b> <a href="a09024_source.html#l00162">ops.H:162</a></div></div>
<div class="ttc" id="a01949_html_af5d47c5deccb842cb4b331facc1aa22a"><div class="ttname"><a href="a01949.html#af5d47c5deccb842cb4b331facc1aa22a">Foam::polyMesh::tetBasePtIs</a></div><div class="ttdeci">const labelList &amp; tetBasePtIs() const </div><div class="ttdoc">Return the tetBasePtIs. </div><div class="ttdef"><b>Definition:</b> <a href="a08750_source.html#l00818">polyMesh.C:818</a></div></div>
<div class="ttc" id="a02826_html"><div class="ttname"><a href="a02826.html">Foam::UIndirectList</a></div><div class="ttdoc">A List with indirect addressing. </div><div class="ttdef"><b>Definition:</b> <a href="a05902_source.html#l00106">fvMatrix.H:106</a></div></div>
<div class="ttc" id="a01445_html_ae44e759f2387683eacab8a3099f477c7"><div class="ttname"><a href="a01445.html#ae44e759f2387683eacab8a3099f477c7">Foam::mappedPatchBase::facePoint</a></div><div class="ttdeci">static pointIndexHit facePoint(const polyMesh &amp;, const label faceI, const polyMesh::cellDecomposition)</div><div class="ttdoc">Get a point on the face given a face decomposition method: </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l01306">mappedPatchBase.C:1306</a></div></div>
<div class="ttc" id="a01943_html_a627bcef4e891104ff8192574b673920b"><div class="ttname"><a href="a01943.html#a627bcef4e891104ff8192574b673920b">Foam::polyBoundaryMesh::names</a></div><div class="ttdeci">wordList names() const </div><div class="ttdoc">Return a list of patch names. </div><div class="ttdef"><b>Definition:</b> <a href="a08745_source.html#l00527">polyBoundaryMesh.C:527</a></div></div>
<div class="ttc" id="a10958_html_a096223899a8703ef9b9706dbf2b9a148"><div class="ttname"><a href="a10958.html#a096223899a8703ef9b9706dbf2b9a148">Foam::Zero</a></div><div class="ttdeci">static const zero Zero</div><div class="ttdef"><b>Definition:</b> <a href="a09194_source.html#l00091">zero.H:91</a></div></div>
<div class="ttc" id="a01445_html_af320697688df08f1438d37a86bcaf25d"><div class="ttname"><a href="a01445.html#af320697688df08f1438d37a86bcaf25d">Foam::mappedPatchBase::clearOut</a></div><div class="ttdeci">void clearOut()</div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l01226">mappedPatchBase.C:1226</a></div></div>
<div class="ttc" id="a07965_html"><div class="ttname"><a href="a07965.html">Time.H</a></div></div>
<div class="ttc" id="a02049_html_a23c38ee54f04c9d53a327db9edbdb7f0"><div class="ttname"><a href="a02049.html#a23c38ee54f04c9d53a327db9edbdb7f0">Foam::Pstream::scatterList</a></div><div class="ttdeci">static void scatterList(const List&lt; commsStruct &gt; &amp;comms, List&lt; T &gt; &amp;Values, const int tag, const label comm)</div><div class="ttdoc">Scatter data. Reverse of gatherList. </div><div class="ttdef"><b>Definition:</b> <a href="a07902_source.html#l00205">gatherScatterList.C:205</a></div></div>
<div class="ttc" id="a02828_html_af4d05e19e6cdc80f0c7acd5bbe250f69"><div class="ttname"><a href="a02828.html#af4d05e19e6cdc80f0c7acd5bbe250f69">Foam::UList::fcIndex</a></div><div class="ttdeci">label fcIndex(const label i) const </div><div class="ttdoc">Return the forward circular index, i.e. the next index. </div><div class="ttdef"><b>Definition:</b> <a href="a07785_source.html#l00058">UListI.H:58</a></div></div>
<div class="ttc" id="a00766_html"><div class="ttname"><a href="a00766.html">Foam::Field&lt; vector &gt;</a></div></div>
<div class="ttc" id="a02693_html_a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38"><div class="ttname"><a href="a02693.html#a684efe2f2e78731b859a7baeec2217c2a60d8bd9afe6091a5c3904605dd0e0c38">Foam::token::END_STATEMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="a07939_source.html#l00099">token.H:99</a></div></div>
<div class="ttc" id="a07953_html"><div class="ttname"><a href="a07953.html">addToRunTimeSelectionTable.H</a></div><div class="ttdoc">Macros for easy insertion into run-time selection tables. </div></div>
<div class="ttc" id="a01445_html_af1dadf58aa8d06f7448d1859188f909d"><div class="ttname"><a href="a01445.html#af1dadf58aa8d06f7448d1859188f909d">Foam::mappedPatchBase::findSamples</a></div><div class="ttdeci">void findSamples(const sampleMode mode, const pointField &amp;, labelList &amp;sampleProcs, labelList &amp;sampleIndices, pointField &amp;sampleLocations) const </div><div class="ttdoc">Find cells/faces containing samples. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l00191">mappedPatchBase.C:191</a></div></div>
<div class="ttc" id="a07380_html"><div class="ttname"><a href="a07380.html">treeDataFace.H</a></div></div>
<div class="ttc" id="a01445_html_a6fc0e2d21865eed0e3e068a2cd386dec"><div class="ttname"><a href="a01445.html#a6fc0e2d21865eed0e3e068a2cd386dec">Foam::mappedPatchBase::mode_</a></div><div class="ttdeci">const sampleMode mode_</div><div class="ttdoc">What to sample. </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00195">mappedPatchBase.H:195</a></div></div>
<div class="ttc" id="a08792_html"><div class="ttname"><a href="a08792.html">polyPatch.H</a></div></div>
<div class="ttc" id="a01949_html_a3c42fb8dbb745999eb5cfb7c97936879afdffa2bc4102b4445c2251865a5c108a"><div class="ttname"><a href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879afdffa2bc4102b4445c2251865a5c108a">Foam::polyMesh::CELL_TETS</a></div><div class="ttdef"><b>Definition:</b> <a href="a08751_source.html#l00107">polyMesh.H:107</a></div></div>
<div class="ttc" id="a01202_html_ac12266e2067a7baeb13af68a5e643edd"><div class="ttname"><a href="a01202.html#ac12266e2067a7baeb13af68a5e643edd">Foam::IOstream::version</a></div><div class="ttdeci">versionNumber version() const </div><div class="ttdoc">Return the stream version. </div><div class="ttdef"><b>Definition:</b> <a href="a07894_source.html#l00399">IOstream.H:399</a></div></div>
<div class="ttc" id="a07842_html_a58548a3fc67fb931bc4e99f94d5f41b8"><div class="ttname"><a href="a07842.html#a58548a3fc67fb931bc4e99f94d5f41b8">WarningInFunction</a></div><div class="ttdeci">#define WarningInFunction</div><div class="ttdoc">Report a warning using Foam::Warning. </div><div class="ttdef"><b>Definition:</b> <a href="a07842_source.html#l00259">messageStream.H:259</a></div></div>
<div class="ttc" id="a02886_html_a058151225b5fb26e4a5a4f039b0c1fa1"><div class="ttname"><a href="a02886.html#a058151225b5fb26e4a5a4f039b0c1fa1">Foam::VectorSpace&lt; Vector&lt; scalar &gt;, scalar, 3 &gt;::zero</a></div><div class="ttdeci">static const Vector&lt; scalar &gt; zero</div><div class="ttdef"><b>Definition:</b> <a href="a09191_source.html#l00110">VectorSpace.H:110</a></div></div>
<div class="ttc" id="a01917_html"><div class="ttname"><a href="a01917.html">Foam::PointIndexHit</a></div><div class="ttdoc">This class describes the interaction of (usually) a face and a point. It carries the info of a succes...</div><div class="ttdef"><b>Definition:</b> <a href="a08889_source.html#l00053">PointIndexHit.H:53</a></div></div>
<div class="ttc" id="a08751_html"><div class="ttname"><a href="a08751.html">polyMesh.H</a></div></div>
<div class="ttc" id="a01445_html_ac4b69f819a1b68317a896f748f87acbb"><div class="ttname"><a href="a01445.html#ac4b69f819a1b68317a896f748f87acbb">Foam::mappedPatchBase::samplePoints</a></div><div class="ttdeci">tmp&lt; pointField &gt; samplePoints() const </div><div class="ttdoc">Get the sample points. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l01299">mappedPatchBase.C:1299</a></div></div>
<div class="ttc" id="a01605_html"><div class="ttname"><a href="a01605.html">Foam::mappedPatchBase::nearestEqOp</a></div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00141">mappedPatchBase.H:141</a></div></div>
<div class="ttc" id="a02746_html"><div class="ttname"><a href="a02746.html">Foam::treeDataPoint</a></div><div class="ttdoc">Holds (reference to) pointField. Encapsulation of data needed for octree searches. Used for searching for nearest point. No bounding boxes around points. Only overlaps and calcNearest are implemented, rest makes little sense. </div><div class="ttdef"><b>Definition:</b> <a href="a07382_source.html#l00059">treeDataPoint.H:59</a></div></div>
<div class="ttc" id="a10958_html_a9907f9d4272b10c75ac87c1679b77c24"><div class="ttname"><a href="a10958.html#a9907f9d4272b10c75ac87c1679b77c24">Foam::defineTypeNameAndDebug</a></div><div class="ttdeci">defineTypeNameAndDebug(combustionModel, 0)</div></div>
<div class="ttc" id="a07842_html_abebc35e120bacb3eea618b4e97c7efd6"><div class="ttname"><a href="a07842.html#abebc35e120bacb3eea618b4e97c7efd6">InfoInFunction</a></div><div class="ttdeci">#define InfoInFunction</div><div class="ttdoc">Report an information message using Foam::Info. </div><div class="ttdef"><b>Definition:</b> <a href="a07842_source.html#l00281">messageStream.H:281</a></div></div>
<div class="ttc" id="a01232_html"><div class="ttname"><a href="a01232.html">Foam::ITstream</a></div><div class="ttdoc">Input token stream. </div><div class="ttdef"><b>Definition:</b> <a href="a07944_source.html#l00049">ITstream.H:49</a></div></div>
<div class="ttc" id="a10958_html_a447107a607d03e417307c203fa5fb44b"><div class="ttname"><a href="a10958.html#a447107a607d03e417307c203fa5fb44b">Foam::abort</a></div><div class="ttdeci">errorManip&lt; error &gt; abort(error &amp;err)</div><div class="ttdef"><b>Definition:</b> <a href="a07839_source.html#l00131">errorManip.H:131</a></div></div>
<div class="ttc" id="a07885_html"><div class="ttname"><a href="a07885.html">OFstream.H</a></div></div>
<div class="ttc" id="a00086_html"><div class="ttname"><a href="a00086.html">Foam::autoPtr&lt; Foam::searchableSurface &gt;</a></div></div>
<div class="ttc" id="a08797_html"><div class="ttname"><a href="a08797.html">syncTools.H</a></div></div>
<div class="ttc" id="a02004_html_af5aca3ce69275c80366bc8d5c0584da2"><div class="ttname"><a href="a02004.html#af5aca3ce69275c80366bc8d5c0584da2">Foam::PrimitivePatch::localFaces</a></div><div class="ttdeci">const List&lt; Face &gt; &amp; localFaces() const </div><div class="ttdoc">Return patch faces addressing into local point list. </div><div class="ttdef"><b>Definition:</b> <a href="a08861_source.html#l00388">PrimitivePatch.C:388</a></div></div>
<div class="ttc" id="a01949_html_a3c42fb8dbb745999eb5cfb7c97936879"><div class="ttname"><a href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879">Foam::polyMesh::cellDecomposition</a></div><div class="ttdeci">cellDecomposition</div><div class="ttdoc">Enumeration defining the decomposition of the cell for. </div><div class="ttdef"><b>Definition:</b> <a href="a08751_source.html#l00098">polyMesh.H:98</a></div></div>
<div class="ttc" id="a08048_html"><div class="ttname"><a href="a08048.html">DynamicField.H</a></div></div>
<div class="ttc" id="a01949_html"><div class="ttname"><a href="a01949.html">Foam::polyMesh</a></div><div class="ttdoc">Mesh consisting of general polyhedral cells. </div><div class="ttdef"><b>Definition:</b> <a href="a08751_source.html#l00074">polyMesh.H:74</a></div></div>
<div class="ttc" id="a07407_html"><div class="ttname"><a href="a07407.html">meshSearchMeshObject.H</a></div></div>
<div class="ttc" id="a00531_html_ae9d6521e0e8d3956f9b49ddeb44877b8"><div class="ttname"><a href="a00531.html#ae9d6521e0e8d3956f9b49ddeb44877b8">Foam::dictionary::found</a></div><div class="ttdeci">bool found(const word &amp;, bool recursive=false, bool patternMatch=true) const </div><div class="ttdoc">Search dictionary for given keyword. </div><div class="ttdef"><b>Definition:</b> <a href="a07798_source.html#l00306">dictionary.C:306</a></div></div>
<div class="ttc" id="a10958_html_ae53117a9770efe95d2d01bb5cc2c99ef"><div class="ttname"><a href="a10958.html#ae53117a9770efe95d2d01bb5cc2c99ef">Foam::nl</a></div><div class="ttdeci">static const char nl</div><div class="ttdef"><b>Definition:</b> <a href="a07898_source.html#l00262">Ostream.H:262</a></div></div>
<div class="ttc" id="a04532_html_a334650304cdcdff41898bee9eaf2e3db"><div class="ttname"><a href="a04532.html#a334650304cdcdff41898bee9eaf2e3db">p</a></div><div class="ttdeci">volScalarField &amp; p</div><div class="ttdef"><b>Definition:</b> <a href="a04532_source.html#l00051">createFields.H:51</a></div></div>
<div class="ttc" id="a02766_html"><div class="ttname"><a href="a02766.html">Foam::Tuple2</a></div><div class="ttdoc">A 2-tuple for storing two objects of different types. </div><div class="ttdef"><b>Definition:</b> <a href="a09166_source.html#l00047">Tuple2.H:47</a></div></div>
<div class="ttc" id="a01943_html_aa51573bc757d5d5bb058db0464886447"><div class="ttname"><a href="a01943.html#aa51573bc757d5d5bb058db0464886447">Foam::polyBoundaryMesh::mesh</a></div><div class="ttdeci">const polyMesh &amp; mesh() const </div><div class="ttdoc">Return the mesh reference. </div><div class="ttdef"><b>Definition:</b> <a href="a08746_source.html#l00140">polyBoundaryMesh.H:140</a></div></div>
<div class="ttc" id="a02966_html"><div class="ttname"><a href="a02966.html">Foam::word</a></div><div class="ttdoc">A class for handling words, derived from string. </div><div class="ttdef"><b>Definition:</b> <a href="a09121_source.html#l00059">word.H:59</a></div></div>
<div class="ttc" id="a00531_html"><div class="ttname"><a href="a00531.html">Foam::dictionary</a></div><div class="ttdoc">A list of keyword definitions, which are a keyword followed by any number of values (e...</div><div class="ttdef"><b>Definition:</b> <a href="a07799_source.html#l00137">dictionary.H:137</a></div></div>
<div class="ttc" id="a01445_html_a0941061ad5a26be83b4107d05750ace6"><div class="ttname"><a href="a01445.html#a0941061ad5a26be83b4107d05750ace6">Foam::mappedPatchBase::write</a></div><div class="ttdeci">virtual void write(Ostream &amp;) const </div><div class="ttdoc">Write as a dictionary. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l01386">mappedPatchBase.C:1386</a></div></div>
<div class="ttc" id="a07838_html_af2484eff8084de37cba5d9d7a00fb293"><div class="ttname"><a href="a07838.html#af2484eff8084de37cba5d9d7a00fb293">FatalErrorInFunction</a></div><div class="ttdeci">#define FatalErrorInFunction</div><div class="ttdoc">Report an error message using Foam::FatalError. </div><div class="ttdef"><b>Definition:</b> <a href="a07838_source.html#l00319">error.H:319</a></div></div>
<div class="ttc" id="a02317_html_a9dee63d319c83c226c226575d5f61084"><div class="ttname"><a href="a02317.html#a9dee63d319c83c226c226575d5f61084">Foam::searchableSurface::New</a></div><div class="ttdeci">static autoPtr&lt; searchableSurface &gt; New(const word &amp;surfaceType, const IOobject &amp;io, const dictionary &amp;dict)</div><div class="ttdoc">Return a reference to the selected searchableSurface. </div><div class="ttdef"><b>Definition:</b> <a href="a07467_source.html#l00040">searchableSurface.C:40</a></div></div>
<div class="ttc" id="a02886_html_aa699ca727d483dc9a905519ccc69d655"><div class="ttname"><a href="a02886.html#aa699ca727d483dc9a905519ccc69d655">Foam::VectorSpace&lt; Vector&lt; scalar &gt;, scalar, 3 &gt;::max</a></div><div class="ttdeci">static const Vector&lt; scalar &gt; max</div><div class="ttdef"><b>Definition:</b> <a href="a09191_source.html#l00112">VectorSpace.H:112</a></div></div>
<div class="ttc" id="a02859_html_aada0e04d8127eda8ee95be0772754a4f"><div class="ttname"><a href="a02859.html#aada0e04d8127eda8ee95be0772754a4f">Foam::UPstream::nProcs</a></div><div class="ttdeci">static label nProcs(const label communicator=0)</div><div class="ttdoc">Number of processes in parallel run. </div><div class="ttdef"><b>Definition:</b> <a href="a07920_source.html#l00399">UPstream.H:399</a></div></div>
<div class="ttc" id="a01387_html_aedb985ffeaf1bdbfeccc2a8730405703"><div class="ttname"><a href="a01387.html#aedb985ffeaf1bdbfeccc2a8730405703">Foam::List::setSize</a></div><div class="ttdeci">void setSize(const label)</div><div class="ttdoc">Reset size of List. </div><div class="ttdef"><b>Definition:</b> <a href="a07752_source.html#l00327">List.C:327</a></div></div>
<div class="ttc" id="a07393_html"><div class="ttname"><a href="a07393.html">mappedPatchBase.H</a></div></div>
<div class="ttc" id="a10958_html_a501e80d1e14c94973e82f1555e7eb711"><div class="ttname"><a href="a10958.html#a501e80d1e14c94973e82f1555e7eb711">Foam::Info</a></div><div class="ttdeci">messageStream Info</div></div>
<div class="ttc" id="a01445_html_ab3d659d134be87423ac27ecf9e011103"><div class="ttname"><a href="a01445.html#ab3d659d134be87423ac27ecf9e011103">Foam::mappedPatchBase::offsetMode</a></div><div class="ttdeci">offsetMode</div><div class="ttdoc">How to project face centres. </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00122">mappedPatchBase.H:122</a></div></div>
<div class="ttc" id="a01769_html"><div class="ttname"><a href="a01769.html">Foam::Ostream</a></div><div class="ttdoc">An Ostream is an abstract base class for all output systems (streams, files, token lists...</div><div class="ttdef"><b>Definition:</b> <a href="a07898_source.html#l00053">Ostream.H:53</a></div></div>
<div class="ttc" id="a00048_html_a0a69c034ef7e40ca01df129a6188de32afbc6fde4b6ac4526a11cc83cba6c54aa"><div class="ttname"><a href="a00048.html#a0a69c034ef7e40ca01df129a6188de32afbc6fde4b6ac4526a11cc83cba6c54aa">Foam::AMIInterpolation::imFaceAreaWeight</a></div><div class="ttdef"><b>Definition:</b> <a href="a07275_source.html#l00090">AMIInterpolation.H:90</a></div></div>
<div class="ttc" id="a01445_html_ad85f2f334acc61084859fedd8050b4d5"><div class="ttname"><a href="a01445.html#ad85f2f334acc61084859fedd8050b4d5">Foam::mappedPatchBase::coupleGroup_</a></div><div class="ttdeci">const coupleGroupIdentifier coupleGroup_</div><div class="ttdoc">PatchGroup (if in sampleMode NEARESTPATCH*) </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00201">mappedPatchBase.H:201</a></div></div>
<div class="ttc" id="a01445_html_afa9ee1ee09345abf9d30d18090559e42"><div class="ttname"><a href="a01445.html#afa9ee1ee09345abf9d30d18090559e42">Foam::mappedPatchBase::calcAMI</a></div><div class="ttdeci">void calcAMI() const </div><div class="ttdoc">Calculate AMI interpolator. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l00804">mappedPatchBase.C:804</a></div></div>
<div class="ttc" id="a02828_html_a1c9828bc3de9502754d944c95a2ce0d9"><div class="ttname"><a href="a02828.html#a1c9828bc3de9502754d944c95a2ce0d9">Foam::UList::first</a></div><div class="ttdeci">T &amp; first()</div><div class="ttdoc">Return the first element of the list. </div><div class="ttdef"><b>Definition:</b> <a href="a07785_source.html#l00114">UListI.H:114</a></div></div>
<div class="ttc" id="a01445_html_ab8a85263c1f58c55ace7c4260d6a228f"><div class="ttname"><a href="a01445.html#ab8a85263c1f58c55ace7c4260d6a228f">Foam::mappedPatchBase::surfDict_</a></div><div class="ttdeci">dictionary surfDict_</div><div class="ttdoc">Dictionary storing projection surface description. </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00241">mappedPatchBase.H:241</a></div></div>
<div class="ttc" id="a02859_html_a36af549940a0aae3733774649594489f"><div class="ttname"><a href="a02859.html#a36af549940a0aae3733774649594489f">Foam::UPstream::master</a></div><div class="ttdeci">static bool master(const label communicator=0)</div><div class="ttdoc">Am I the master process. </div><div class="ttdef"><b>Definition:</b> <a href="a07920_source.html#l00411">UPstream.H:411</a></div></div>
<div class="ttc" id="a10958_html_a7c482c9f0ea60317169ee39f62f670d4"><div class="ttname"><a href="a10958.html#a7c482c9f0ea60317169ee39f62f670d4">Foam::mode</a></div><div class="ttdeci">mode_t mode(const fileName &amp;)</div><div class="ttdoc">Return the file mode. </div><div class="ttdef"><b>Definition:</b> <a href="a09208_source.html#l00596">POSIX.C:596</a></div></div>
<div class="ttc" id="a10958_html_a6e9405517b1f65f062d56214e0d4ee33"><div class="ttname"><a href="a10958.html#a6e9405517b1f65f062d56214e0d4ee33">Foam::facePoint</a></div><div class="ttdeci">label facePoint(const int facei, const block &amp;block, const label i, const label j)</div><div class="ttdef"><b>Definition:</b> <a href="a07150_source.html#l00202">blockMeshMergeFast.C:202</a></div></div>
<div class="ttc" id="a01445_html"><div class="ttname"><a href="a01445.html">Foam::mappedPatchBase</a></div><div class="ttdoc">Determines a mapping between patch face centres and mesh cell or face centres and processors they&amp;#39;re ...</div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00103">mappedPatchBase.H:103</a></div></div>
<div class="ttc" id="a00016_html"><div class="ttname"><a href="a00016.html">Foam::accessOp</a></div><div class="ttdef"><b>Definition:</b> <a href="a07758_source.html#l00098">ListListOps.H:98</a></div></div>
<div class="ttc" id="a01445_html_a4a5f338705df00dc4b801f6f25112ccf"><div class="ttname"><a href="a01445.html#a4a5f338705df00dc4b801f6f25112ccf">Foam::mappedPatchBase::sampleMode</a></div><div class="ttdeci">sampleMode</div><div class="ttdoc">Mesh items to sample. </div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00111">mappedPatchBase.H:111</a></div></div>
<div class="ttc" id="a10958_html_a277dc11c581d53826ab5090b08f3b17b"><div class="ttname"><a href="a10958.html#a277dc11c581d53826ab5090b08f3b17b">Foam::sqr</a></div><div class="ttdeci">dimensionedSymmTensor sqr(const dimensionedVector &amp;dv)</div><div class="ttdef"><b>Definition:</b> <a href="a07980_source.html#l00049">dimensionedSymmTensor.C:49</a></div></div>
<div class="ttc" id="a01949_html_a3c42fb8dbb745999eb5cfb7c97936879ada84759e15d57487cd21743c4df72518"><div class="ttname"><a href="a01949.html#a3c42fb8dbb745999eb5cfb7c97936879ada84759e15d57487cd21743c4df72518">Foam::polyMesh::FACE_PLANES</a></div><div class="ttdef"><b>Definition:</b> <a href="a08751_source.html#l00100">polyMesh.H:100</a></div></div>
<div class="ttc" id="a00531_html_a8baab402d653d6e789f67c57e23a5b59"><div class="ttname"><a href="a00531.html#a8baab402d653d6e789f67c57e23a5b59">Foam::dictionary::lookup</a></div><div class="ttdeci">ITstream &amp; lookup(const word &amp;, bool recursive=false, bool patternMatch=true) const </div><div class="ttdoc">Find and return an entry data stream. </div><div class="ttdef"><b>Definition:</b> <a href="a07798_source.html#l00451">dictionary.C:451</a></div></div>
<div class="ttc" id="a10958_html_aec48583af672626378f501eb9fc32cd1"><div class="ttname"><a href="a10958.html#aec48583af672626378f501eb9fc32cd1">Foam::type</a></div><div class="ttdeci">fileName::Type type(const fileName &amp;)</div><div class="ttdoc">Return the file type: DIRECTORY or FILE. </div><div class="ttdef"><b>Definition:</b> <a href="a09208_source.html#l00610">POSIX.C:610</a></div></div>
<div class="ttc" id="a09036_html"><div class="ttname"><a href="a09036.html">Random.H</a></div></div>
<div class="ttc" id="a01068_html_aba41bfdff77d084cf0e79257dbea2d2b"><div class="ttname"><a href="a01068.html#aba41bfdff77d084cf0e79257dbea2d2b">Foam::indexedOctree::findInside</a></div><div class="ttdeci">label findInside(const point &amp;) const </div><div class="ttdoc">Find shape containing point. Only implemented for certain. </div><div class="ttdef"><b>Definition:</b> <a href="a07657_source.html#l02571">indexedOctree.C:2571</a></div></div>
<div class="ttc" id="a02049_html_adfd4915b68ab7181dccb847976286e56"><div class="ttname"><a href="a02049.html#adfd4915b68ab7181dccb847976286e56">Foam::Pstream::listCombineScatter</a></div><div class="ttdeci">static void listCombineScatter(const List&lt; commsStruct &gt; &amp;comms, List&lt; T &gt; &amp;Value, const int tag, const label comm)</div><div class="ttdoc">Scatter data. Reverse of combineGather. </div><div class="ttdef"><b>Definition:</b> <a href="a07899_source.html#l00408">combineGatherScatter.C:408</a></div></div>
<div class="ttc" id="a02745_html"><div class="ttname"><a href="a02745.html">Foam::treeDataFace</a></div><div class="ttdoc">Encapsulation of data needed to search for faces. </div><div class="ttdef"><b>Definition:</b> <a href="a07380_source.html#l00058">treeDataFace.H:58</a></div></div>
<div class="ttc" id="a01445_html_a855421729b0363f1d9b0341a153f12b1"><div class="ttname"><a href="a01445.html#a855421729b0363f1d9b0341a153f12b1">Foam::mappedPatchBase::calcMapping</a></div><div class="ttdeci">void calcMapping() const </div><div class="ttdoc">Calculate mapping. </div><div class="ttdef"><b>Definition:</b> <a href="a07392_source.html#l00520">mappedPatchBase.C:520</a></div></div>
<div class="ttc" id="a01917_html_a7d1e8acadb27bd2b4e61457d47b71b6f"><div class="ttname"><a href="a01917.html#a7d1e8acadb27bd2b4e61457d47b71b6f">Foam::PointIndexHit::index</a></div><div class="ttdeci">label index() const </div><div class="ttdoc">Return index. </div><div class="ttdef"><b>Definition:</b> <a href="a08889_source.html#l00111">PointIndexHit.H:111</a></div></div>
<div class="ttc" id="a01445_html_a044747e20568dea33e8e8961aaa3670b"><div class="ttname"><a href="a01445.html#a044747e20568dea33e8e8961aaa3670b">Foam::mappedPatchBase::sampleModeNames_</a></div><div class="ttdeci">static const NamedEnum&lt; sampleMode, 6 &gt; sampleModeNames_</div><div class="ttdef"><b>Definition:</b> <a href="a07393_source.html#l00129">mappedPatchBase.H:129</a></div></div>
<div class="ttc" id="a10958_html_ac50d206700f3f71855dd30c9a076de43"><div class="ttname"><a href="a10958.html#ac50d206700f3f71855dd30c9a076de43">Foam::FatalError</a></div><div class="ttdeci">error FatalError</div></div>
<div class="ttc" id="a01789_html"><div class="ttname"><a href="a01789.html">Foam::PackedBoolList</a></div><div class="ttdoc">A bit-packed bool list. </div><div class="ttdef"><b>Definition:</b> <a href="a07763_source.html#l00063">PackedBoolList.H:63</a></div></div>
<div class="ttc" id="a10958_html_a5997a67f2e85a15c0e13a1724273aa5f"><div class="ttname"><a href="a10958.html#a5997a67f2e85a15c0e13a1724273aa5f">Foam::pointField</a></div><div class="ttdeci">vectorField pointField</div><div class="ttdoc">pointField is a vectorField. </div><div class="ttdef"><b>Definition:</b> <a href="a08896_source.html#l00042">pointFieldFwd.H:42</a></div></div>
<div class="ttc" id="a04373_html_ad4512456f4da706b47fd304150561080"><div class="ttname"><a href="a04373.html#ad4512456f4da706b47fd304150561080">fld</a></div><div class="ttdeci">gmvFile&lt;&lt; &quot;tracers &quot;&lt;&lt; particles.size()&lt;&lt; nl;forAllConstIter(Cloud&lt; passiveParticle &gt;, particles, iter){gmvFile&lt;&lt; iter().position().x()&lt;&lt;  ' ';}gmvFile&lt;&lt; nl;forAllConstIter(Cloud&lt; passiveParticle &gt;, particles, iter){gmvFile&lt;&lt; iter().position().y()&lt;&lt;  ' ';}gmvFile&lt;&lt; nl;forAllConstIter(Cloud&lt; passiveParticle &gt;, particles, iter){gmvFile&lt;&lt; iter().position().z()&lt;&lt;  ' ';}gmvFile&lt;&lt; nl;forAll(lagrangianScalarNames, i){const word &amp;name=lagrangianScalarNames[i];IOField&lt; scalar &gt; fld(IOobject(                                       name,                                       runTime.timeName(),                                       cloud::prefix,                                       mesh,                                       IOobject::MUST_READ,                                       IOobject::NO_WRITE                       ))</div></div>
<div class="ttc" id="a00048_html"><div class="ttname"><a href="a00048.html">Foam::AMIInterpolation</a></div><div class="ttdoc">Interpolation class dealing with transfer of data between two primitive patches with an arbitrary mes...</div><div class="ttdef"><b>Definition:</b> <a href="a07275_source.html#l00077">AMIInterpolation.H:77</a></div></div>
<div class="ttc" id="a01915_html_a6fc60097ee4a2ef28aa08c9d11269046"><div class="ttname"><a href="a01915.html#a6fc60097ee4a2ef28aa08c9d11269046">Foam::PointHit::distance</a></div><div class="ttdeci">scalar distance() const </div><div class="ttdoc">Return distance to hit. </div><div class="ttdef"><b>Definition:</b> <a href="a08886_source.html#l00139">PointHit.H:139</a></div></div>
<div class="ttc" id="a01495_html_ab61cc2091ec1fd7e08e8948e84235a05"><div class="ttname"><a href="a01495.html#ab61cc2091ec1fd7e08e8948e84235a05">Foam::MeshObject&lt; polyMesh, GeometricMeshObject, meshSearchMeshObject &gt;::New</a></div><div class="ttdeci">static const meshSearchMeshObject &amp; New(const polyMesh &amp;mesh)</div></div>
<div class="ttc" id="a10958_html_aa962c58f164ba66de90b6dbb08ace4c8"><div class="ttname"><a href="a10958.html#aa962c58f164ba66de90b6dbb08ace4c8">Foam::FatalIOError</a></div><div class="ttdeci">IOerror FatalIOError</div></div>
<div class="ttc" id="a01967_html_a967e2a9a4a6da59154f932595447adc9"><div class="ttname"><a href="a01967.html#a967e2a9a4a6da59154f932595447adc9">Foam::polyPatch::boundaryMesh</a></div><div class="ttdeci">const polyBoundaryMesh &amp; boundaryMesh() const </div><div class="ttdoc">Return boundaryMesh reference. </div><div class="ttdef"><b>Definition:</b> <a href="a08791_source.html#l00278">polyPatch.C:278</a></div></div>
<div class="ttc" id="a10958_html_a29558ed008131ebedb6c3b965e9f4175"><div class="ttname"><a href="a10958.html#a29558ed008131ebedb6c3b965e9f4175">Foam::pointIndexHit</a></div><div class="ttdeci">PointIndexHit&lt; point &gt; pointIndexHit</div><div class="ttdef"><b>Definition:</b> <a href="a08888_source.html#l00042">pointIndexHit.H:42</a></div></div>
<div class="ttc" id="a01183_html_a8a0fd7a8363e41d8c12a90716f4f500fa14c34f8b46ba6f892e9d5db132667b39"><div class="ttname"><a href="a01183.html#a8a0fd7a8363e41d8c12a90716f4f500fa14c34f8b46ba6f892e9d5db132667b39">Foam::intersection::HALF_RAY</a></div><div class="ttdef"><b>Definition:</b> <a href="a08908_source.html#l00072">intersection.H:72</a></div></div>
<div class="ttc" id="a10958_html_a929da2a3fdcf3dacbbe0487d3a330dae"><div class="ttname"><a href="a10958.html#a929da2a3fdcf3dacbbe0487d3a330dae">Foam::mag</a></div><div class="ttdeci">dimensioned&lt; scalar &gt; mag(const dimensioned&lt; Type &gt; &amp;)</div></div>
<div class="ttc" id="a00614_html_a7b67b42af715604376ad63a681dee6d8"><div class="ttname"><a href="a00614.html#a7b67b42af715604376ad63a681dee6d8">Foam::DynamicList::append</a></div><div class="ttdeci">DynamicList&lt; T, SizeInc, SizeMult, SizeDiv &gt; &amp; append(const T &amp;)</div><div class="ttdoc">Append an element at the end of the list. </div><div class="ttdef"><b>Definition:</b> <a href="a07743_source.html#l00323">DynamicListI.H:323</a></div></div>
</div><!-- fragment --></div><!-- contents -->
  <!-- end of doxygen-generated content -->
  </div> <!-- main -->
  <div class="footer">
    <p>
      Copyright&nbsp;&copy;&nbsp;2011-2016&nbsp;
      <a href="http://www.openfoam.org">OpenFOAM Foundation</a>
      |
      OPENFOAM&reg; is a registered
      <a href="http://www.openfoam.com/legal/trademark-policy.php">trademarks
      </a> of OpenCFD Ltd.
    </p>
    <p class="credits">
      Based on design by
      <a target="new" href="http://1234.info">1234.info</a>
      |
      Content generated by
      <a target="new" href="http://www.doxygen.org">doxygen</a>
    </p>
  </div>  <!-- footer -->
</div>  <!-- page-container -->
</body>
</html>
